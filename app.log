2025-03-24 07:10:18,589 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:18,593 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:18,594 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:21,559 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:21,560 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:21,561 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:10:21,569 - __main__ - INFO - Запуск сервера на порту 8080
2025-03-24 07:10:22,157 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:22,158 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:22,159 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:22,160 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:22,161 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:22,162 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:10:35,519 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:35,522 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:35,523 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:35,858 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:35,859 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:35,861 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:10:35,869 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:10:35,953 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:35,955 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:35,956 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:35,958 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:35,958 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:35,960 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:11:19,320 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:11:19,324 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:11:19,325 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:11:19,681 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:11:19,682 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:11:19,683 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:11:19,688 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:11:19,760 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:11:19,761 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:11:19,763 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:11:19,764 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:11:19,765 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:11:19,766 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:11:31,883 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:11:31,889 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:11:39,365 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:11:39,366 - main - INFO - Story: 1
2025-03-24 07:11:39,368 - main - INFO - Requirements: Не предоставлены
2025-03-24 07:11:39,369 - main - INFO - Code: Не предоставлен
2025-03-24 07:11:39,370 - main - INFO - Test cases: Не предоставлены
2025-03-24 07:11:39,371 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:11:39,373 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:11:39,374 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:11:39,446 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:40,825 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:11:44,638 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:44,641 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:44,642 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:11:44,644 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:11:44,645 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:11:44,647 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:48,009 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:48,012 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:48,013 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:11:48,014 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:11:48,014 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:11:48,016 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:51,175 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:51,178 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:51,180 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:11:51,181 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:11:51,182 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:11:51,183 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:52,715 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:52,717 - services.gigachat_service - ERROR - Не удалось распарсить JSON из ответа: {
  "story": "Описание задачи",
 說明"code": "Код, который требуется проанализировать"
}
2025-03-24 07:11:52,718 - services.gigachat_service - ERROR - Не удалось извлечь JSON из ответа: Для выполнения анализа мне необходим сам код, который ты хочешь проанализировать. Пожалуйста, предоставь его, чтобы я мог провести детальный разбор и дать конкретные рекомендации.

Если у тебя есть какие-то дополнительные требования или пожелания к анализу, также сообщи их. 

Пример того, как может выглядеть запрос:
```json
{
  "story": "Описание задачи",
 說明"code": "Код, который требуется проанализировать"
}
```
2025-03-24 07:11:52,721 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:11:52,722 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:11:52,723 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:11:52,725 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:53,581 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:53,583 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:53,585 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:11:53,586 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:11:53,587 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:11:53,588 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:54,388 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:54,390 - services.gigachat_service - ERROR - Не удалось извлечь JSON из ответа: Для выполнения анализа мне нужен сам код или данные для анализа. Пожалуйста, предоставь его, чтобы я мог провести детальный анализ и предоставить отчет о возможных уязвимостях в формате JSON.
2025-03-24 07:11:54,392 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:11:54,394 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:11:54,395 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:11:54,396 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:12:02,665 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:12:02,668 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:12:02,669 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:12:02,670 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:12:02,671 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:12:02,672 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:19:12,039 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:19:12,047 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:24:02,747 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:24:02,748 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-24 07:24:02,750 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-24 07:24:02,751 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-24 07:24:02,753 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-24 07:24:02,755 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:24:02,757 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:24:02,758 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:24:02,759 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:07,684 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:07,689 - services.gigachat_service - ERROR - Не удалось распарсить JSON из ответа: {
  "code_requirements_match": 90,
  "missing_requirements": [],
  "incorrect_implementations": [
    {
      "requirement": "Функция sort_products должна поддерживать сортировку по убыванию цены.",
      "code_snippet": "if sort_by == 'price_desc':\n        result.sort(key=lambda p: p.price, reverse=True)",
      "description": "Сортировка по убыванию цены корректна, но отсутствие явной проверки корректности аргумента `sort_by` может привести к ошибкам при передаче неверного значения."
    },
    {
      "requirement": "Добавить валидацию входных параметров функции sort_products.",
      "code_snippet": "if not isinstance(products, list):\n        raise ValueError(\"products должен быть списком")",
      "description": "Валидация параметров проведена частично. Не проверяется валидность значений аргументов `sort_by`, что может вызвать ошибку во время выполнения программы."
    },
    {
      "requirement": "Обрабатывать ошибки некорректного ввода.",
      "code_snippet": "if sort_by not in valid_sort_params:\n        raise ValueError(f\"sort_by должен быть одним из {valid_sort_params}\")",
      "description": "Некорректный ввод обрабатывается, однако отсутствуют сообщения об ошибках в случае некорректного типа данных для аргумента `sort_by`. Например, если передан не строковый тип."
    }
  ]
}
2025-03-24 07:24:07,694 - services.gigachat_service - ERROR - Не удалось извлечь JSON из ответа: ```json
{
  "code_requirements_match": 90,
  "missing_requirements": [],
  "incorrect_implementations": [
    {
      "requirement": "Функция sort_products должна поддерживать сортировку по убыванию цены.",
      "code_snippet": "if sort_by == 'price_desc':\n        result.sort(key=lambda p: p.price, reverse=True)",
      "description": "Сортировка по убыванию цены корректна, но отсутствие явной проверки корректности аргумента `sort_by` может привести к ошибкам при передаче неверного значения."
    },
    {
      "requirement": "Добавить валидацию входных параметров функции sort_products.",
      "code_snippet": "if not isinstance(products, list):\n        raise ValueError(\"products должен быть списком")",
      "description": "Валидация параметров проведена частично. Не проверяется валидность значений аргументов `sort_by`, что может вызвать ошибку во время выполнения программы."
    },
    {
      "requirement": "Обрабатывать ошибки некорректного ввода.",
      "code_snippet": "if sort_by not in valid_sort_params:\n        raise ValueError(f\"sort_by должен быть одним из {valid_sort_params}\")",
      "description": "Некорректный ввод обрабатывается, однако отсутствуют сообщения об ошибках в случае некорректного типа данных для аргумента `sort_by`. Например, если передан не строковый тип."
    }
  ]
}
```
2025-03-24 07:24:07,700 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:24:07,701 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:24:07,702 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:24:07,703 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:10,132 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:10,135 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:10,136 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:24:10,137 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:24:10,138 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:24:10,139 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:12,363 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:12,368 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:12,369 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:24:12,372 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:24:12,375 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:24:12,376 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:23,705 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:23,707 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:23,708 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:24:23,710 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:24:23,711 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:24:23,712 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:35,905 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:35,908 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:35,909 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:24:35,910 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:24:35,911 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:24:35,913 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:39,770 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:39,774 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:39,775 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:24:39,776 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:24:39,778 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:24:39,779 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:56,280 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:56,328 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:56,330 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:24:56,332 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:24:56,336 - agents.analyzer - ERROR - Ошибка при формировании итогового результата: 1 validation error for Metrics
code_requirements_match
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/float_type
2025-03-24 07:24:56,338 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:27:44,195 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:27:44,198 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:27:44,200 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:27:44,683 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:27:44,685 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:27:44,686 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:27:44,694 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:27:44,794 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:27:44,796 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:27:44,798 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:27:44,800 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:27:44,802 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:27:44,802 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:27:46,670 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:27:46,671 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-24 07:27:46,672 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-24 07:27:46,675 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-24 07:27:46,677 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-24 07:27:46,679 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:27:46,680 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:27:46,681 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:27:46,682 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:27:47,084 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:27:51,561 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:27:51,565 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:27:51,567 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:27:51,569 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:27:51,570 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:27:51,572 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:27:57,598 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:27:57,601 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:27:57,604 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:27:57,605 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:27:57,606 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:27:57,609 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:02,381 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:02,385 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:02,387 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:28:02,389 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:28:02,390 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:28:02,391 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:14,853 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:14,872 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:14,876 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:28:14,877 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:28:14,879 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:28:14,880 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:21,112 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:21,117 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:21,120 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:28:21,122 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:28:21,124 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:28:21,126 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:27,154 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:27,158 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:27,161 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:28:27,162 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:28:27,164 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:28:27,167 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:44,193 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:44,196 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:44,198 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:28:44,199 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:28:44,200 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:28:44,201 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:34:41,477 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:34:41,478 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-24 07:34:41,479 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-24 07:34:41,481 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-24 07:34:41,482 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-24 07:34:41,484 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:34:41,485 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:34:41,487 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:34:41,489 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:34:46,253 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:34:46,256 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:34:46,257 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:34:46,258 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:34:46,259 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:34:46,261 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:34:49,667 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:34:49,673 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:34:49,676 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:34:49,677 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:34:49,680 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:34:49,682 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:34:53,524 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:34:53,526 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:34:53,528 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:34:53,529 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:34:53,530 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:34:53,532 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:07,981 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:07,988 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:07,989 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:35:07,990 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:35:07,991 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:35:07,992 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:15,824 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:15,846 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:15,848 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:35:15,849 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:35:15,851 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:35:15,852 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:22,696 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:22,743 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:22,746 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:35:22,747 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:35:22,748 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:35:22,750 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:45,698 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:45,744 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:45,746 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:35:45,746 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:35:45,749 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:35:45,750 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:36:11,520 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:36:11,528 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:36:53,248 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:36:53,250 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:36:53,251 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:36:53,516 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:36:53,518 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:36:53,519 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:36:53,524 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:36:53,588 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:36:53,589 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:36:53,590 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:36:53,592 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:36:53,593 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:36:53,593 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:37:08,553 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:37:08,554 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:37:08,556 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:37:08,557 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:37:08,559 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:37:08,562 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:37:08,563 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:37:08,564 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:37:08,567 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:08,966 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:37:13,340 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:13,344 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:13,346 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:37:13,347 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:37:13,350 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:37:13,351 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:17,419 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:17,421 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:17,423 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:37:17,424 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:37:17,426 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:37:17,427 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:21,880 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:21,882 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:21,884 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:37:21,885 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:37:21,886 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:37:21,887 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:31,831 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:31,833 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:31,834 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:37:31,836 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:37:31,837 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:37:31,839 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:37,642 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:37,646 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:37,648 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:37:37,650 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:37:37,652 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:37:37,653 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:43,067 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:43,069 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:43,070 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:37:43,071 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:37:43,072 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:37:43,074 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:38:02,248 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:38:02,252 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:38:02,254 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:38:02,255 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:38:02,256 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:38:02,258 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:45:03,557 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:45:03,561 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:45:03,564 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:45:03,947 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:45:03,948 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:45:03,950 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:45:03,958 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:45:04,050 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:45:04,053 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:45:04,055 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:45:04,057 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:45:04,059 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:45:04,059 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:45:15,330 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:45:15,331 - main - INFO - Story: Нужно написать простой конвертер валют для мобильного приложения.
2025-03-24 07:45:15,333 - main - INFO - Requirements: 1. Функция convert_currency должна переводить сумму из одной валюты в другую
2. Должны поддерживатьс...
2025-03-24 07:45:15,335 - main - INFO - Code: exchange_rates = {
    'USD': {'EUR': 0.85, 'GBP': 0.75, 'JPY': 110.2, 'RUB': 74.12},
    'EUR': {'U...
2025-03-24 07:45:15,337 - main - INFO - Test cases: # Тесты для конвертера валют

import unittest

class TestCurrencyConverter(unittest.TestCase):
    d...
2025-03-24 07:45:15,341 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:45:15,342 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:45:15,343 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:45:15,344 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:15,707 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:45:19,238 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:19,242 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:19,243 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:45:19,244 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:45:19,246 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:45:19,247 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:23,981 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:23,985 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:23,987 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:45:23,990 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:45:23,991 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:45:23,992 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:27,905 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:27,907 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:27,910 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:45:27,911 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:45:27,912 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:45:27,914 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:36,789 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:36,793 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:36,795 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:45:36,796 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:45:36,797 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:45:36,799 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:44,343 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:44,348 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:44,349 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:45:44,351 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:45:44,352 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:45:44,353 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:48,355 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:48,357 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:48,360 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:45:48,361 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:45:48,363 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:45:48,364 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:46:03,578 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:46:03,594 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:46:03,597 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:46:03,599 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:46:03,601 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:46:03,602 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:47:00,223 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:47:00,224 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:47:00,225 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:47:00,228 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:47:00,229 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:47:00,231 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:47:00,232 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:47:00,233 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:47:00,234 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:04,825 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:04,827 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:04,829 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:47:04,830 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:47:04,830 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:47:04,832 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:09,698 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:09,700 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:09,702 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:47:09,703 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:47:09,704 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:47:09,706 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:13,684 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:13,688 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:13,689 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:47:13,690 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:47:13,692 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:47:13,693 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:23,969 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:23,971 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:23,974 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:47:23,975 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:47:23,976 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:47:23,977 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:33,177 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:33,213 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:33,214 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:47:33,216 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:47:33,217 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:47:33,220 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:37,308 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:37,310 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:37,311 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:47:37,312 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:47:37,314 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:47:37,316 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:59,793 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:59,827 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:59,829 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:47:59,830 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:47:59,833 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:47:59,834 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:49:51,500 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:49:51,503 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:49:51,504 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:49:51,783 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:49:51,786 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:49:51,788 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:49:51,795 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:49:51,905 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:49:51,907 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:49:51,910 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:49:51,912 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:49:51,913 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:49:51,916 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:49:54,484 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:49:54,485 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:49:54,487 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:49:54,488 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:49:54,490 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:49:54,492 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:49:54,494 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:49:54,496 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:49:54,551 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией CodeRequirementsResult
2025-03-24 07:49:59,757 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:50:01,361 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:01,364 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:01 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '3fdd47b2-eed1-469e-8715-913bd902dcb4', 'x-session-id': 'd76f7347-3511-4305-80ae-5a2d935b1284', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:01,632 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:01,634 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:01 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '838bbe9d-cf84-4419-990d-13021697fc2c', 'x-session-id': '7c31ca17-febf-4fa8-9696-a2aa08c9f890', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:01,636 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:50:01,638 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:50:01,639 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:50:01,658 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией TestRequirementsResult
2025-03-24 07:50:02,016 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:02,020 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:01 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '2933f905-76a6-4275-a49d-24482c7fe47b', 'x-session-id': '45faf804-25d6-4220-9389-9be351d45f39', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:02,542 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:02,545 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:02 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '4daf3099-a80c-4222-8fa7-f456c334bfbb', 'x-session-id': '1bf1fa7a-944e-48e4-ac9e-8a98e8bc7829', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:02,547 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:50:02,549 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:50:02,551 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:50:02,577 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией TestCodeResult
2025-03-24 07:50:03,001 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,003 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:02 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '541a04f1-b9fc-46a9-8f4f-eb02952d481d', 'x-session-id': '1c6327e1-5664-47ba-8f9f-6a8e45e2a448', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:03,217 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,221 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '72af4598-001a-4529-a575-ff287c6cc66c', 'x-session-id': '4ba7ec18-be21-4634-ac8c-2e6ba77e4e2d', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:03,224 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:50:03,226 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:50:03,227 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:50:03,245 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией BestPracticesResult
2025-03-24 07:50:03,483 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,486 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '7d7d32b3-8e47-438a-99da-d3e5c0fc497d', 'x-session-id': 'c783e06a-0264-49d9-bbdf-fa6cbd5b4341', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:03,735 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,737 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '23bc7469-6412-4777-b5bb-1b8948abd643', 'x-session-id': '89787bc0-bcfc-46f1-9f40-e9a9d9f00067', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:03,739 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:50:03,740 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:50:03,742 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:50:03,759 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией BugDetectorResult
2025-03-24 07:50:03,987 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,989 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '14d91497-440b-4d21-ade4-92fdf28b04c9', 'x-session-id': '37b77e3c-a1ac-40a9-9b71-2e0bf4d9ecc0', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:04,202 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,204 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': 'eb0dc322-e181-4c03-be3e-0e04a61fdaac', 'x-session-id': '921e07fc-f891-4117-8e34-23367b9c385b', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:04,205 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:50:04,207 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:50:04,208 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:50:04,225 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией VulnerabilityDetectorResult
2025-03-24 07:50:04,464 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,466 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '97325751-64f3-4b50-946b-2aa6b8155970', 'x-session-id': '021ff032-261a-431c-9bde-26da4648d536', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:04,694 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,697 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '7f0586c3-af70-4f7c-b057-1c6e0c1d800c', 'x-session-id': '5ac2bbd9-12a8-4dce-9c38-9c3d2f9db53e', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:04,699 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:50:04,701 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:50:04,703 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:50:04,729 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией FinalReportResult
2025-03-24 07:50:04,985 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,988 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '4f98aeba-f743-41a2-b8f4-18900b413f27', 'x-session-id': '43a2a0f0-d55d-4d3f-82dd-d69b4a13dae2', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:05,234 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:05,236 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:05 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': 'e2ffeb50-a19d-4383-8a5c-36d66fb6dc3d', 'x-session-id': '12d0cc20-a54f-40e0-9e36-0addfb6a7264', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:05,238 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:50:05,240 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:50:05,242 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:50:05,243 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:52:50,445 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:52:50,447 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:52:50,449 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:52:50,662 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:52:50,663 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:52:50,664 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:52:50,671 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:52:50,744 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:52:50,746 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:52:50,748 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:52:50,750 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:52:50,750 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:52:50,752 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:52:52,248 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:52:52,250 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:52:52,252 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:52:52,253 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:52:52,256 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:52:52,257 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:52:52,259 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:52:52,260 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:52:52,262 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:52:53,429 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:52:58,667 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:52:58,671 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:52:58,673 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:52:58,674 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:52:58,676 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:52:58,677 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:53:03,971 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:03,974 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:03,976 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:53:03,977 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:53:03,979 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:53:03,980 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:53:08,475 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:08,477 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:08,479 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:53:08,481 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:53:08,482 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:53:08,483 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:53:18,199 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:18,203 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:18,204 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:53:18,205 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:53:18,208 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:53:18,209 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:53:24,960 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:24,963 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:24,965 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:53:24,966 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:53:24,967 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:53:24,969 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:53:31,346 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:31,350 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:31,352 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:53:31,353 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:53:31,355 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:53:31,357 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 07:53:52,065 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:52,094 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:52,095 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:53:52,096 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:53:52,097 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:53:52,098 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:54:55,701 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:54:55,705 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:54:55,706 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:54:55,963 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:54:55,964 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:54:55,965 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:54:55,970 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:54:56,034 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:54:56,036 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:54:56,038 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:54:56,039 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:54:56,040 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:54:56,042 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:55:19,104 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:55:19,105 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:55:19,107 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:55:19,108 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:55:19,109 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:55:19,111 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:55:19,112 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:55:19,113 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:55:19,117 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:55:19,447 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:55:22,942 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:22,945 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:22,946 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:55:22,947 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:55:22,948 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:55:22,952 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:55:25,936 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:25,939 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:25,940 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:55:25,941 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:55:25,942 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:55:25,947 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:55:27,213 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:27,215 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:27,216 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:55:27,217 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:55:27,218 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:55:27,224 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:55:52,957 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:52,983 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:52,984 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:55:52,986 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:55:52,987 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:55:52,991 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:56:03,234 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:56:03,236 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:56:03,238 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:56:03,239 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:56:03,241 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:56:03,245 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:56:09,807 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:56:09,810 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:56:09,813 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:56:09,814 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:56:09,815 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:56:09,824 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 07:56:39,837 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: The read operation timed out
2025-03-24 07:56:39,838 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:56:39,840 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:56:39,841 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:56:39,842 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:57:17,392 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:57:17,394 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:57:17,395 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:57:17,642 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:57:17,643 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:57:17,644 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:57:17,653 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:57:17,712 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:57:17,714 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:57:17,714 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:57:17,716 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:57:17,717 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:57:17,718 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:57:20,061 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:57:20,062 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:57:20,063 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:57:20,065 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:57:20,067 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:57:20,068 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:57:20,069 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:57:20,070 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:57:20,078 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:57:20,428 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:57:23,650 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:23,652 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:23,655 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:57:23,656 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:57:23,658 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:57:23,662 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:57:27,155 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:27,159 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:27,160 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:57:27,162 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:57:27,164 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:57:27,169 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:57:28,249 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:28,251 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:28,254 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:57:28,255 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:57:28,256 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:57:28,259 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:57:50,945 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:50,961 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:50,962 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:57:50,963 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:57:50,965 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:57:50,968 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:58:02,323 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:58:02,326 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:58:02,327 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:58:02,328 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:58:02,330 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:58:02,333 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:58:08,349 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:58:08,352 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:58:08,353 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:58:08,355 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:58:08,356 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:58:08,365 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 07:58:38,373 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: The read operation timed out
2025-03-24 07:58:38,374 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:58:38,375 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:58:38,375 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:58:38,376 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:58:54,086 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:58:54,089 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:58:54,090 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:58:54,296 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:58:54,297 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:58:54,298 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:58:54,303 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:58:54,361 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:58:54,363 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:58:54,364 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:58:54,365 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:58:54,367 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:58:54,368 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:59:10,596 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:59:10,597 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:59:10,598 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:59:10,599 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:59:10,601 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:59:10,603 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:59:10,604 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:59:10,605 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:59:10,610 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:59:12,187 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:59:15,613 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:15,615 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:15,616 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:59:15,617 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:59:15,618 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:59:15,624 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:59:20,550 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:20,553 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:20,555 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:59:20,556 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:59:20,557 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:59:20,563 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:59:26,266 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:26,271 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:26,272 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:59:26,274 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:59:26,275 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:59:26,282 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:59:36,845 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:36,849 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:36,850 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:59:36,851 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:59:36,853 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:59:36,857 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:59:44,703 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:44,707 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:44,708 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:59:44,709 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:59:44,710 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:59:44,713 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:59:48,694 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:48,696 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:48,697 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:59:48,699 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:59:48,700 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:59:48,707 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 08:00:10,943 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 08:00:10,988 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 08:00:10,990 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 08:00:10,992 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 08:00:10,993 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 08:00:10,994 - main - INFO - Анализ кода успешно выполнен
2025-03-24 09:42:10,749 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 09:42:10,751 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 09:42:10,752 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 09:42:11,002 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 09:42:11,003 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 09:42:11,004 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 09:42:11,009 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 09:42:11,078 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 09:42:11,079 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 09:42:11,080 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 09:42:11,081 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 09:42:11,082 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 09:42:11,083 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 10:56:21,973 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 10:56:21,976 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 10:56:21,977 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 10:56:22,230 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-24 10:56:22,231 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 10:56:22,233 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 10:56:22,234 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 10:56:22,241 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 10:56:22,329 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 10:56:22,334 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 10:56:22,337 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 10:56:22,341 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-24 10:56:22,343 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 10:56:22,345 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 10:56:22,347 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 10:56:29,940 - main - INFO - Получен запрос на анализ кода
2025-03-24 10:56:29,941 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 10:56:29,942 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 10:56:29,944 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 10:56:29,946 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 10:56:29,947 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 10:56:29,948 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 10:56:29,950 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 10:56:29,955 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-24 10:56:30,482 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 10:56:33,454 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:33,458 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:33,460 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 10:56:33,461 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 10:56:33,462 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 10:56:33,467 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-24 10:56:38,062 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:38,065 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:38,066 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 10:56:38,068 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 10:56:38,069 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 10:56:38,074 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-24 10:56:40,824 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:40,826 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:40,827 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 10:56:40,828 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 10:56:40,829 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 10:56:40,832 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-24 10:56:51,306 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:51,308 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:51,309 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 10:56:51,311 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 10:56:51,312 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 10:56:51,317 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-24 10:57:07,406 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:57:07,414 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:57:07,415 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 10:57:07,416 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 10:57:07,418 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 10:57:07,423 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 10:57:20,431 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:57:20,435 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:57:20,436 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 10:57:20,437 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 10:57:20,438 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 10:57:20,451 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-24 10:57:50,463 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): The read operation timed out
2025-03-24 10:57:50,464 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-03-26 14:23:27,468 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:23:27,472 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:23:27,474 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:23:27,765 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:23:27,766 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:23:27,768 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:23:27,771 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:23:27,790 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:23:27,895 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:23:27,897 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:23:27,900 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:23:27,904 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:23:27,906 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:23:27,911 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:23:27,914 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:23:30,283 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:23:30,285 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:23:30,287 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-26 14:23:30,288 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-26 14:23:30,290 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-26 14:23:30,293 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:23:30,294 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:23:30,295 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:23:30,301 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:23:30,616 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:23:33,884 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:33,887 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:33,889 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:23:33,890 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:23:33,891 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:23:33,896 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:23:36,784 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:36,788 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:36,790 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:23:36,791 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:23:36,792 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:23:36,797 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:23:39,716 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:39,719 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:39,720 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:23:39,722 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:23:39,724 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:23:39,727 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:23:51,382 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:51,387 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:51,389 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:23:51,391 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:23:51,393 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:23:51,398 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:24:05,607 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:24:05,623 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:24:05,625 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:24:05,626 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:24:05,629 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:24:05,629 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:24:05,633 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:24:10,142 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:24:10,148 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:24:10,151 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:24:10,152 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:24:10,153 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:24:10,161 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:24:26,059 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:24:26,063 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:24:26,065 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:24:26,067 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:24:26,070 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:24:26,071 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:35:57,736 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:35:57,740 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:35:57,742 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,027 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,028 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:35:58,030 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:35:58,032 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:35:58,034 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,035 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,037 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:35:58,056 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:35:58,148 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:35:58,149 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:35:58,151 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,152 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,154 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:35:58,155 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:35:58,156 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:35:58,158 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,159 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,160 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:36:04,586 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:36:04,632 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:36:10,423 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:36:10,424 - main - INFO - Extreme mode: Выключен
2025-03-26 14:36:10,426 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:36:10,428 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:36:10,429 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:10,642 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:36:11,124 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:11,128 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:11,129 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:11,131 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:36:11,132 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:36:11,135 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:11,534 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:11,593 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:11,595 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:11,596 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:36:11,597 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:36:11,598 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:11,960 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:11,962 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Нет данных для анализа.
2025-03-26 14:36:11,963 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:36:11,964 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:12,277 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:12,280 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:12,281 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:36:12,282 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:36:12,284 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:36:12,321 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:36:12,322 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:36:12,323 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-26 14:36:12,326 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-26 14:36:12,328 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-26 14:36:12,330 - main - INFO - Extreme mode: Выключен
2025-03-26 14:36:12,332 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:36:12,333 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:36:12,335 - main - INFO - Extreme mode: Выключен
2025-03-26 14:36:12,336 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:36:12,339 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:36:12,340 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:12,738 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:12,741 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:12,742 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:12,743 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:36:12,744 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:36:12,746 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:14,606 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:14,610 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:14,612 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:14,613 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:36:14,613 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:36:14,616 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:15,339 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:15,341 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Предоставленные данные не являются кодом на Python, а запросом к модели. Пожалуйста, предоставьте корректный ввод.
2025-03-26 14:36:15,342 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:36:15,343 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:15,595 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:15,597 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:15,598 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:36:15,600 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:36:15,600 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:36:15,601 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:36:15,603 - main - ERROR - Ошибка при анализе кода: 'dict' object has no attribute 'story'
Traceback (most recent call last):
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\main.py", line 69, in analyze_code
    result = code_analyzer.analyze(processed_data)
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\agents\analyzer.py", line 63, in analyze
    "story": request.story or config.DEFAULT_STORY,
AttributeError: 'dict' object has no attribute 'story'
2025-03-26 14:37:06,170 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:37:06,172 - main - INFO - Extreme mode: Выключен
2025-03-26 14:37:06,173 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:37:06,175 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:37:06,176 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:06,730 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:06,734 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:06,736 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:06,737 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:37:06,739 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:37:06,741 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:08,468 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:08,470 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:08,472 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:08,473 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:37:08,475 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:37:08,476 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:09,082 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:09,087 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Неподходящий запрос. Пожалуйста, уточните данные или требования.
2025-03-26 14:37:09,089 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:37:09,091 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:09,409 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:09,413 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:09,416 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:37:09,418 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:37:09,419 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:37:09,445 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:37:09,446 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:37:09,448 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-26 14:37:09,451 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-26 14:37:09,455 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-26 14:37:09,458 - main - INFO - Extreme mode: Выключен
2025-03-26 14:37:09,459 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:37:09,460 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:37:09,461 - main - INFO - Extreme mode: Выключен
2025-03-26 14:37:09,462 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:37:09,465 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:37:09,466 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:09,883 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:09,886 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:09,888 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:09,890 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:37:09,891 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:37:09,893 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:10,220 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:10,224 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:10,227 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:10,229 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:37:10,232 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:37:10,234 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:10,616 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:10,620 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Нет данных для анализа.
2025-03-26 14:37:10,622 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:37:10,624 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:11,066 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:11,070 - agents.preprocessor_agent - ERROR - Ошибка обработки test_cases: Нет данных для анализа.
2025-03-26 14:37:11,072 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:37:11,074 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:37:11,078 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:37:11,080 - main - ERROR - Ошибка при анализе кода: 'dict' object has no attribute 'story'
Traceback (most recent call last):
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\main.py", line 69, in analyze_code
    result = code_analyzer.analyze(processed_data)
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\agents\analyzer.py", line 63, in analyze
    "story": request.story or config.DEFAULT_STORY,
AttributeError: 'dict' object has no attribute 'story'
2025-03-26 14:39:24,376 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:39:24,380 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:39:24,381 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,623 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,624 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:24,626 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:39:24,628 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:39:24,628 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,629 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,631 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:24,640 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:39:24,713 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:39:24,715 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:39:24,717 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,718 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,719 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:24,719 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:39:24,721 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:39:24,723 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,724 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,725 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:28,362 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:39:28,363 - main - INFO - Extreme mode: Выключен
2025-03-26 14:39:28,364 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:39:28,366 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:39:28,367 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:28,912 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:39:29,590 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:29,598 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:39:29,601 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:39:29,604 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:31,450 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:31,454 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:39:31,456 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:39:31,459 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:42,279 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:42,281 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:39:42,282 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:39:42,283 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:52,833 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:52,835 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:39:52,837 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:39:52,837 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:39:52,871 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:39:52,871 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:39:52,873 - main - INFO - Requirements: Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.

Создать функци...
2025-03-26 14:39:52,875 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Кла...
2025-03-26 14:39:52,877 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 14:39:52,879 - main - INFO - Extreme mode: Выключен
2025-03-26 14:39:52,880 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:39:52,881 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:39:52,882 - main - INFO - Extreme mode: Выключен
2025-03-26 14:39:52,883 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:39:52,884 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:39:52,885 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:53,342 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:53,344 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:39:53,346 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:39:53,347 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:55,417 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:55,419 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:39:55,421 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:39:55,422 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:40:05,945 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:05,948 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:40:05,949 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:40:05,951 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:40:16,310 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:16,313 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:40:16,314 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:40:16,315 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:40:16,317 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:40:16,318 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:40:16,319 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:40:16,325 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:40:16,561 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:40:18,468 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:18,471 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:18,472 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:40:18,473 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:40:18,474 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:40:18,480 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:40:19,988 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:19,991 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:19,992 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:40:19,994 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:40:19,995 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:40:20,000 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:40:24,465 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:24,468 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:24,469 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:40:24,470 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:40:24,470 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:40:24,474 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:40:36,736 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:36,748 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:36,749 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:40:36,750 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:40:36,751 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:40:36,754 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:40:51,128 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:51,134 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:51,135 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:40:51,137 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:40:51,138 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:40:51,143 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:40:56,419 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:56,423 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:56,424 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:40:56,426 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:40:56,427 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:40:56,439 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:41:21,787 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:41:21,819 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:41:21,820 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:41:21,821 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:41:21,823 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:41:21,824 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:42:38,189 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:42:38,191 - main - INFO - Extreme mode: Включен
2025-03-26 14:42:38,192 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме экстремальный
2025-03-26 14:42:38,193 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:42:38,194 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:38,827 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:38,830 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:42:38,831 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:42:38,832 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:40,304 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:40,306 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:42:40,309 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:42:40,310 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:42,312 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:42,314 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:42:42,315 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:42:42,317 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:49,548 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:49,551 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:42:49,553 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:42:49,554 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:42:49,572 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:42:49,574 - main - INFO - Story: Создатьбиблиотекусортировкитоваровпоразличнымпараметрамдляинтернет-магазина.
2025-03-26 14:42:49,575 - main - INFO - Requirements: Создать класс Product(id,name,price,rating,date_added).Создать функцию sort_products(список_товаров,...
2025-03-26 14:42:49,577 - main - INFO - Code: class P:def __init__(i,id,n,name,p,price,r=rating,dt=datetime):i.id=i;i.n=n;i.p=p;i.r=r;i.dt=dt;def ...
2025-03-26 14:42:49,579 - main - INFO - Test cases: import unittest;from datetime import*;class T(unittest.TestCase):def s(self):self.p=[P(1,"L",1200,4....
2025-03-26 14:42:49,580 - main - INFO - Extreme mode: Включен
2025-03-26 14:42:49,581 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:42:49,583 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:42:49,585 - main - INFO - Extreme mode: Включен
2025-03-26 14:42:49,586 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме экстремальный
2025-03-26 14:42:49,586 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:42:49,589 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:50,051 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:50,053 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:42:50,055 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:42:50,056 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:51,278 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:51,280 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:42:51,282 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:42:51,283 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:52,734 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:52,735 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:42:52,738 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:42:52,740 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:58,987 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:58,990 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:42:58,991 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:42:58,993 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:42:58,994 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:42:58,995 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:42:58,996 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:42:59,001 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:43:04,309 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:04,312 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:04,314 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:43:04,315 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:43:04,315 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:43:04,319 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:43:09,428 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:09,433 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:09,433 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:43:09,436 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:43:09,436 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:43:09,442 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:43:13,541 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:13,548 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:13,550 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:43:13,553 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:43:13,554 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:43:13,559 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:43:28,745 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:30,255 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:30,256 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:43:30,257 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:43:30,258 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:43:30,261 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:43:44,225 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:44,251 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:44,253 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:43:44,254 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:43:44,256 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:43:44,260 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:43:51,338 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:51,341 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:51,345 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:43:51,346 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:43:51,347 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:43:51,354 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:44:15,811 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:44:15,875 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:44:15,877 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:44:15,880 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:44:15,884 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:44:15,888 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:49:57,952 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:49:57,954 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:49:57,956 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,187 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,189 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:49:58,190 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:49:58,192 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:49:58,193 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,195 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,196 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:49:58,216 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:49:58,292 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:49:58,294 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:49:58,295 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,297 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,298 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:49:58,300 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:49:58,301 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:49:58,302 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,304 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,306 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:50:10,594 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:50:10,604 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:50:17,075 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:50:17,077 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-26 14:50:17,078 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-26 14:50:17,080 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-26 14:50:17,082 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-26 14:50:17,084 - main - INFO - Enable preprocessing: Выключено
2025-03-26 14:50:17,085 - main - INFO - Предобработка данных отключена, используем исходные данные
2025-03-26 14:50:17,086 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:50:17,087 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:50:17,088 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:50:17,093 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:50:17,346 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:50:19,505 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:19,507 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:19,509 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:50:19,510 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:50:19,511 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:50:19,516 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:50:22,578 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:22,581 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:22,582 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:50:22,583 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:50:22,584 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:50:22,588 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:50:24,229 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:24,231 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:24,232 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:50:24,233 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:50:24,234 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:50:24,238 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:50:35,555 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:35,601 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:35,602 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:50:35,604 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:50:35,605 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:50:35,609 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:50:48,999 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:49,003 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:49,004 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:50:49,005 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:50:49,006 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:50:49,009 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:51:02,431 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:51:02,435 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:51:02,437 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:51:02,439 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:51:02,440 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:51:02,451 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:51:29,128 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:51:29,194 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:51:29,195 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:51:29,198 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:51:29,199 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:51:29,200 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:52:18,958 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:52:18,959 - main - INFO - Story: Нужно написать простой конвертер валют для мобильного приложения.
2025-03-26 14:52:18,962 - main - INFO - Requirements: 1. Функция convert_currency должна переводить сумму из одной валюты в другую
2. Должны поддерживатьс...
2025-03-26 14:52:18,963 - main - INFO - Code: exchange_rates = {
    'USD': {'EUR': 0.85, 'GBP': 0.75, 'JPY': 110.2, 'RUB': 74.12},
    'EUR': {'U...
2025-03-26 14:52:18,964 - main - INFO - Test cases: # Тесты для конвертера валют

import unittest

class TestCurrencyConverter(unittest.TestCase):
    d...
2025-03-26 14:52:18,967 - main - INFO - Enable preprocessing: Выключено
2025-03-26 14:52:18,968 - main - INFO - Предобработка данных отключена, используем исходные данные
2025-03-26 14:52:18,970 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:52:18,971 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:52:18,973 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:52:18,977 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:52:21,433 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:21,436 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:21,437 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:52:21,438 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:52:21,440 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:52:21,444 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:52:24,882 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:24,885 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:52:24,886 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:24,887 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:52:24,889 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:52:24,890 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:52:24,896 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:52:26,559 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:26,562 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:26,563 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:52:26,564 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:52:26,565 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:52:26,569 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:52:35,729 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:35,754 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:35,755 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:52:35,756 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:52:35,757 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:52:35,761 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:52:48,898 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:48,918 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:48,919 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:52:48,920 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:52:48,921 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:52:48,925 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:52:57,712 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:57,723 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:57,724 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:52:57,725 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:52:57,726 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:52:57,734 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:53:20,275 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:53:20,307 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:53:20,308 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:53:20,309 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:53:20,311 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:53:20,311 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:54:26,290 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:54:26,293 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:54:26,294 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,566 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,567 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:26,570 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:54:26,572 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:54:26,574 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,577 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,579 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:26,594 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:54:26,697 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:54:26,699 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:54:26,700 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,702 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,703 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:26,705 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:54:26,706 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:54:26,708 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,709 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,711 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:31,149 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:54:31,150 - main - INFO - Extreme mode: Выключен
2025-03-26 14:54:31,153 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:54:31,154 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:54:31,156 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:54:31,474 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:54:32,180 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:54:32,185 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:54:32,186 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:54:32,190 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:54:34,931 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:54:34,935 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:54:34,936 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:54:34,939 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:54:47,363 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:54:47,366 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:54:47,367 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:54:47,369 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:00,207 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:00,209 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:55:00,211 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:55:00,212 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:55:00,632 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:55:00,633 - main - INFO - Story: Создать библиотеку для сортировки списка товаров по различным параметрам, используемую в интернет-ма...
2025-03-26 14:55:00,635 - main - INFO - Requirements: 1. Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.
2. Создать ф...
2025-03-26 14:55:00,637 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Пре...
2025-03-26 14:55:00,640 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 14:55:00,643 - main - INFO - Enable preprocessing: Включено
2025-03-26 14:55:00,645 - main - INFO - Extreme mode: Выключен
2025-03-26 14:55:00,646 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:55:00,647 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:55:00,649 - main - INFO - Extreme mode: Выключен
2025-03-26 14:55:00,650 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:55:00,651 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:55:00,652 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:01,216 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:01,219 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:55:01,221 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:55:01,222 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:04,045 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:04,048 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:55:04,049 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:55:04,050 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:15,964 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:15,971 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:55:15,974 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:55:15,975 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:29,081 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:29,084 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:55:29,087 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:55:29,090 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:55:29,091 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:55:29,092 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:55:29,094 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:55:29,101 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:55:29,265 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:55:33,898 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:33,900 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:33,902 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:55:33,903 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:55:33,903 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:55:33,907 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:55:38,544 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:38,548 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:38,549 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:55:38,551 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:55:38,553 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:55:38,559 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:55:44,074 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:44,077 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:44,078 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:55:44,080 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:55:44,081 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:55:44,087 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:55:53,689 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:53,693 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:53,694 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:55:53,696 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:55:53,697 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:55:53,700 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:56:07,130 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:56:07,134 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:56:07,136 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:56:07,136 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:56:07,138 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:56:07,139 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:56:07,142 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:56:20,505 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:56:20,508 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:56:20,509 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:56:20,510 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:56:20,510 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:56:20,519 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:56:44,692 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:56:44,755 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:56:44,756 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:56:44,758 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:56:44,759 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:56:44,761 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:58:40,313 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:58:40,315 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:58:40,317 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,593 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,594 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:40,595 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:58:40,598 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:58:40,599 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,600 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,602 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:40,621 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:58:40,700 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:58:40,702 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:58:40,705 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,706 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,708 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:40,711 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:58:40,712 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:58:40,713 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,715 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,716 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:42,408 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:58:42,409 - main - INFO - Extreme mode: Выключен
2025-03-26 14:58:42,412 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:58:42,413 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:58:42,414 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:58:42,662 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:58:43,326 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:58:43,331 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:58:43,333 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:58:43,334 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:58:46,083 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:58:46,085 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:58:46,087 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:58:46,088 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:58:57,968 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:58:57,985 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:58:57,986 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:58:57,987 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:11,080 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:11,083 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:59:11,085 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:59:11,086 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:59:11,141 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:59:11,142 - main - INFO - Story: Создать библиотеку для сортировки списка товаров по различным параметрам, используемую в интернет-ма...
2025-03-26 14:59:11,144 - main - INFO - Requirements: 1. Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.
2. Создать ф...
2025-03-26 14:59:11,145 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Пре...
2025-03-26 14:59:11,148 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 14:59:11,149 - main - INFO - Enable preprocessing: Включено
2025-03-26 14:59:11,151 - main - INFO - Extreme mode: Выключен
2025-03-26 14:59:11,152 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:59:11,153 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:59:11,155 - main - INFO - Extreme mode: Выключен
2025-03-26 14:59:11,155 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:59:11,157 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:59:11,158 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:12,112 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:12,114 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:59:12,116 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:59:12,117 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:14,616 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:14,618 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:59:14,619 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:59:14,621 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:26,427 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:26,429 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:59:26,430 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:59:26,431 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:39,462 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:39,465 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:59:39,466 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:59:39,467 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:59:39,468 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:59:39,469 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:59:39,469 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:59:39,474 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:59:39,717 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:59:45,416 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:45,420 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:59:45,422 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:59:45,423 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:59:45,424 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:59:45,428 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:59:50,894 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:50,898 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:59:50,898 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:59:50,900 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:59:50,902 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:59:50,905 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:59:56,293 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:56,298 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:59:56,299 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:59:56,300 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:59:56,303 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:59:56,306 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 15:00:05,566 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:05,570 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:05,571 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 15:00:05,572 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 15:00:05,573 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 15:00:05,578 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 15:00:21,723 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:21,726 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:21,727 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 15:00:21,729 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 15:00:21,730 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 15:00:21,734 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 15:00:24,922 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:24,925 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:24,926 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 15:00:24,926 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 15:00:24,927 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 15:00:24,935 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 15:00:51,363 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:51,414 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:51,415 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 15:00:51,416 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 15:00:51,417 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 15:00:51,418 - main - INFO - Анализ кода успешно выполнен
