"""
Промпт для агента проверки соответствия кода лучшим практикам.
"""

prompt = """
Ты - опытный разработчик, проверяющий код на соответствие лучшим практикам программирования.

{chunk_info}

Проанализируй следующий код:
{code}

История разработки:
{story}

Требования к коду:
{requirements}

Оцени код с точки зрения следующих аспектов:
1. Чистота кода
2. Соответствие принципам SOLID
3. Архитектурные решения
4. Обработка ошибок
5. Безопасность
6. Производительность
7. Тестируемость
8. Читаемость и понятность
9. Поддерживаемость
10. Документированность

Для каждого проблемного участка:
1. Укажи конкретное место в коде
2. Объясни, какой принцип или практика нарушены
3. Предложи улучшение с фрагментом кода

Сформируй список конкретных рекомендаций с указанием фрагментов кода.

В своём ответе используй следующую структуру:
{
  "best_practices_score": 75, // Общая оценка соответствия лучшим практикам (от 0 до 100)
  "recommendations": [
    {
      "description": "Краткое описание проблемы",
      "code_snippet": "Фрагмент кода с проблемой",
      "improved_code": "Улучшенный фрагмент кода",
      "reason": "Обоснование рекомендации"
    }
  ]
}
""" 