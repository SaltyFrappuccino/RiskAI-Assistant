2025-03-24 07:10:18,589 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:18,593 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:18,594 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:21,559 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:21,560 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:21,561 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:10:21,569 - __main__ - INFO - Запуск сервера на порту 8080
2025-03-24 07:10:22,157 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:22,158 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:22,159 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:22,160 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:22,161 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:22,162 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:10:35,519 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:35,522 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:35,523 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:35,858 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:35,859 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:35,861 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:10:35,869 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:10:35,953 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:10:35,955 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:10:35,956 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:10:35,958 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:10:35,958 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:10:35,960 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:11:19,320 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:11:19,324 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:11:19,325 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:11:19,681 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:11:19,682 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:11:19,683 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:11:19,688 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:11:19,760 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:11:19,761 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:11:19,763 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:11:19,764 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:11:19,765 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:11:19,766 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:11:31,883 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:11:31,889 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:11:39,365 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:11:39,366 - main - INFO - Story: 1
2025-03-24 07:11:39,368 - main - INFO - Requirements: Не предоставлены
2025-03-24 07:11:39,369 - main - INFO - Code: Не предоставлен
2025-03-24 07:11:39,370 - main - INFO - Test cases: Не предоставлены
2025-03-24 07:11:39,371 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:11:39,373 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:11:39,374 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:11:39,446 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:40,825 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:11:44,638 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:44,641 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:44,642 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:11:44,644 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:11:44,645 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:11:44,647 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:48,009 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:48,012 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:48,013 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:11:48,014 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:11:48,014 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:11:48,016 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:51,175 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:51,178 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:51,180 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:11:51,181 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:11:51,182 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:11:51,183 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:52,715 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:52,717 - services.gigachat_service - ERROR - Не удалось распарсить JSON из ответа: {
  "story": "Описание задачи",
 說明"code": "Код, который требуется проанализировать"
}
2025-03-24 07:11:52,718 - services.gigachat_service - ERROR - Не удалось извлечь JSON из ответа: Для выполнения анализа мне необходим сам код, который ты хочешь проанализировать. Пожалуйста, предоставь его, чтобы я мог провести детальный разбор и дать конкретные рекомендации.

Если у тебя есть какие-то дополнительные требования или пожелания к анализу, также сообщи их. 

Пример того, как может выглядеть запрос:
```json
{
  "story": "Описание задачи",
 說明"code": "Код, который требуется проанализировать"
}
```
2025-03-24 07:11:52,721 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:11:52,722 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:11:52,723 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:11:52,725 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:53,581 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:53,583 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:11:53,585 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:11:53,586 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:11:53,587 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:11:53,588 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:11:54,388 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:11:54,390 - services.gigachat_service - ERROR - Не удалось извлечь JSON из ответа: Для выполнения анализа мне нужен сам код или данные для анализа. Пожалуйста, предоставь его, чтобы я мог провести детальный анализ и предоставить отчет о возможных уязвимостях в формате JSON.
2025-03-24 07:11:54,392 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:11:54,394 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:11:54,395 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:11:54,396 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:12:02,665 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:12:02,668 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:12:02,669 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:12:02,670 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:12:02,671 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:12:02,672 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:19:12,039 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:19:12,047 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:24:02,747 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:24:02,748 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-24 07:24:02,750 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-24 07:24:02,751 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-24 07:24:02,753 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-24 07:24:02,755 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:24:02,757 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:24:02,758 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:24:02,759 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:07,684 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:07,689 - services.gigachat_service - ERROR - Не удалось распарсить JSON из ответа: {
  "code_requirements_match": 90,
  "missing_requirements": [],
  "incorrect_implementations": [
    {
      "requirement": "Функция sort_products должна поддерживать сортировку по убыванию цены.",
      "code_snippet": "if sort_by == 'price_desc':\n        result.sort(key=lambda p: p.price, reverse=True)",
      "description": "Сортировка по убыванию цены корректна, но отсутствие явной проверки корректности аргумента `sort_by` может привести к ошибкам при передаче неверного значения."
    },
    {
      "requirement": "Добавить валидацию входных параметров функции sort_products.",
      "code_snippet": "if not isinstance(products, list):\n        raise ValueError(\"products должен быть списком")",
      "description": "Валидация параметров проведена частично. Не проверяется валидность значений аргументов `sort_by`, что может вызвать ошибку во время выполнения программы."
    },
    {
      "requirement": "Обрабатывать ошибки некорректного ввода.",
      "code_snippet": "if sort_by not in valid_sort_params:\n        raise ValueError(f\"sort_by должен быть одним из {valid_sort_params}\")",
      "description": "Некорректный ввод обрабатывается, однако отсутствуют сообщения об ошибках в случае некорректного типа данных для аргумента `sort_by`. Например, если передан не строковый тип."
    }
  ]
}
2025-03-24 07:24:07,694 - services.gigachat_service - ERROR - Не удалось извлечь JSON из ответа: ```json
{
  "code_requirements_match": 90,
  "missing_requirements": [],
  "incorrect_implementations": [
    {
      "requirement": "Функция sort_products должна поддерживать сортировку по убыванию цены.",
      "code_snippet": "if sort_by == 'price_desc':\n        result.sort(key=lambda p: p.price, reverse=True)",
      "description": "Сортировка по убыванию цены корректна, но отсутствие явной проверки корректности аргумента `sort_by` может привести к ошибкам при передаче неверного значения."
    },
    {
      "requirement": "Добавить валидацию входных параметров функции sort_products.",
      "code_snippet": "if not isinstance(products, list):\n        raise ValueError(\"products должен быть списком")",
      "description": "Валидация параметров проведена частично. Не проверяется валидность значений аргументов `sort_by`, что может вызвать ошибку во время выполнения программы."
    },
    {
      "requirement": "Обрабатывать ошибки некорректного ввода.",
      "code_snippet": "if sort_by not in valid_sort_params:\n        raise ValueError(f\"sort_by должен быть одним из {valid_sort_params}\")",
      "description": "Некорректный ввод обрабатывается, однако отсутствуют сообщения об ошибках в случае некорректного типа данных для аргумента `sort_by`. Например, если передан не строковый тип."
    }
  ]
}
```
2025-03-24 07:24:07,700 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:24:07,701 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:24:07,702 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:24:07,703 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:10,132 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:10,135 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:10,136 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:24:10,137 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:24:10,138 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:24:10,139 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:12,363 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:12,368 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:12,369 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:24:12,372 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:24:12,375 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:24:12,376 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:23,705 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:23,707 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:23,708 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:24:23,710 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:24:23,711 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:24:23,712 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:35,905 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:35,908 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:35,909 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:24:35,910 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:24:35,911 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:24:35,913 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:39,770 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:39,774 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:39,775 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:24:39,776 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:24:39,778 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:24:39,779 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:24:56,280 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:24:56,328 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:24:56,330 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:24:56,332 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:24:56,336 - agents.analyzer - ERROR - Ошибка при формировании итогового результата: 1 validation error for Metrics
code_requirements_match
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.10/v/float_type
2025-03-24 07:24:56,338 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:27:44,195 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:27:44,198 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:27:44,200 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:27:44,683 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:27:44,685 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:27:44,686 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:27:44,694 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:27:44,794 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:27:44,796 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:27:44,798 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:27:44,800 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:27:44,802 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:27:44,802 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:27:46,670 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:27:46,671 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-24 07:27:46,672 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-24 07:27:46,675 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-24 07:27:46,677 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-24 07:27:46,679 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:27:46,680 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:27:46,681 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:27:46,682 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:27:47,084 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:27:51,561 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:27:51,565 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:27:51,567 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:27:51,569 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:27:51,570 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:27:51,572 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:27:57,598 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:27:57,601 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:27:57,604 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:27:57,605 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:27:57,606 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:27:57,609 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:02,381 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:02,385 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:02,387 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:28:02,389 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:28:02,390 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:28:02,391 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:14,853 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:14,872 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:14,876 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:28:14,877 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:28:14,879 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:28:14,880 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:21,112 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:21,117 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:21,120 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:28:21,122 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:28:21,124 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:28:21,126 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:27,154 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:27,158 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:27,161 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:28:27,162 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:28:27,164 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:28:27,167 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:28:44,193 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:28:44,196 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:28:44,198 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:28:44,199 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:28:44,200 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:28:44,201 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:34:41,477 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:34:41,478 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-24 07:34:41,479 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-24 07:34:41,481 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-24 07:34:41,482 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-24 07:34:41,484 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:34:41,485 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:34:41,487 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:34:41,489 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:34:46,253 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:34:46,256 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:34:46,257 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:34:46,258 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:34:46,259 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:34:46,261 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:34:49,667 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:34:49,673 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:34:49,676 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:34:49,677 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:34:49,680 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:34:49,682 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:34:53,524 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:34:53,526 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:34:53,528 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:34:53,529 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:34:53,530 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:34:53,532 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:07,981 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:07,988 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:07,989 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:35:07,990 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:35:07,991 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:35:07,992 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:15,824 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:15,846 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:15,848 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:35:15,849 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:35:15,851 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:35:15,852 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:22,696 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:22,743 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:22,746 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:35:22,747 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:35:22,748 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:35:22,750 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:35:45,698 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:35:45,744 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:35:45,746 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:35:45,746 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:35:45,749 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:35:45,750 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:36:11,520 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:36:11,528 - main - INFO - Запрос на проверку работоспособности API
2025-03-24 07:36:53,248 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:36:53,250 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:36:53,251 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:36:53,516 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:36:53,518 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:36:53,519 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:36:53,524 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:36:53,588 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:36:53,589 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:36:53,590 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:36:53,592 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:36:53,593 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:36:53,593 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:37:08,553 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:37:08,554 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:37:08,556 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:37:08,557 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:37:08,559 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:37:08,562 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:37:08,563 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:37:08,564 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:37:08,567 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:08,966 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:37:13,340 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:13,344 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:13,346 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:37:13,347 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:37:13,350 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:37:13,351 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:17,419 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:17,421 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:17,423 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:37:17,424 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:37:17,426 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:37:17,427 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:21,880 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:21,882 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:21,884 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:37:21,885 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:37:21,886 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:37:21,887 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:31,831 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:31,833 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:31,834 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:37:31,836 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:37:31,837 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:37:31,839 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:37,642 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:37,646 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:37,648 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:37:37,650 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:37:37,652 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:37:37,653 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:37:43,067 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:37:43,069 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:37:43,070 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:37:43,071 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:37:43,072 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:37:43,074 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:38:02,248 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:38:02,252 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:38:02,254 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:38:02,255 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:38:02,256 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:38:02,258 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:45:03,557 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:45:03,561 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:45:03,564 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:45:03,947 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:45:03,948 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:45:03,950 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:45:03,958 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:45:04,050 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:45:04,053 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:45:04,055 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:45:04,057 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:45:04,059 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:45:04,059 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:45:15,330 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:45:15,331 - main - INFO - Story: Нужно написать простой конвертер валют для мобильного приложения.
2025-03-24 07:45:15,333 - main - INFO - Requirements: 1. Функция convert_currency должна переводить сумму из одной валюты в другую
2. Должны поддерживатьс...
2025-03-24 07:45:15,335 - main - INFO - Code: exchange_rates = {
    'USD': {'EUR': 0.85, 'GBP': 0.75, 'JPY': 110.2, 'RUB': 74.12},
    'EUR': {'U...
2025-03-24 07:45:15,337 - main - INFO - Test cases: # Тесты для конвертера валют

import unittest

class TestCurrencyConverter(unittest.TestCase):
    d...
2025-03-24 07:45:15,341 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:45:15,342 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:45:15,343 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:45:15,344 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:15,707 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:45:19,238 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:19,242 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:19,243 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:45:19,244 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:45:19,246 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:45:19,247 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:23,981 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:23,985 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:23,987 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:45:23,990 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:45:23,991 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:45:23,992 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:27,905 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:27,907 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:27,910 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:45:27,911 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:45:27,912 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:45:27,914 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:36,789 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:36,793 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:36,795 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:45:36,796 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:45:36,797 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:45:36,799 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:44,343 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:44,348 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:44,349 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:45:44,351 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:45:44,352 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:45:44,353 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:45:48,355 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:45:48,357 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:45:48,360 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:45:48,361 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:45:48,363 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:45:48,364 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:46:03,578 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:46:03,594 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:46:03,597 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:46:03,599 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:46:03,601 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:46:03,602 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:47:00,223 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:47:00,224 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:47:00,225 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:47:00,228 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:47:00,229 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:47:00,231 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:47:00,232 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:47:00,233 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:47:00,234 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:04,825 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:04,827 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:04,829 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:47:04,830 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:47:04,830 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:47:04,832 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:09,698 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:09,700 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:09,702 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:47:09,703 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:47:09,704 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:47:09,706 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:13,684 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:13,688 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:13,689 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:47:13,690 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:47:13,692 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:47:13,693 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:23,969 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:23,971 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:23,974 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:47:23,975 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:47:23,976 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:47:23,977 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:33,177 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:33,213 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:33,214 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:47:33,216 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:47:33,217 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:47:33,220 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:37,308 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:37,310 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:37,311 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:47:37,312 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:47:37,314 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:47:37,316 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-24 07:47:59,793 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:47:59,827 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:47:59,829 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:47:59,830 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:47:59,833 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:47:59,834 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:49:51,500 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:49:51,503 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:49:51,504 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:49:51,783 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:49:51,786 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:49:51,788 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:49:51,795 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:49:51,905 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:49:51,907 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:49:51,910 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:49:51,912 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:49:51,913 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:49:51,916 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:49:54,484 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:49:54,485 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:49:54,487 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:49:54,488 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:49:54,490 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:49:54,492 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:49:54,494 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:49:54,496 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:49:54,551 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией CodeRequirementsResult
2025-03-24 07:49:59,757 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:50:01,361 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:01,364 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:01 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '3fdd47b2-eed1-469e-8715-913bd902dcb4', 'x-session-id': 'd76f7347-3511-4305-80ae-5a2d935b1284', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:01,632 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:01,634 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:01 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '838bbe9d-cf84-4419-990d-13021697fc2c', 'x-session-id': '7c31ca17-febf-4fa8-9696-a2aa08c9f890', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:01,636 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:50:01,638 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:50:01,639 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:50:01,658 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией TestRequirementsResult
2025-03-24 07:50:02,016 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:02,020 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:01 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '2933f905-76a6-4275-a49d-24482c7fe47b', 'x-session-id': '45faf804-25d6-4220-9389-9be351d45f39', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:02,542 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:02,545 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:02 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '4daf3099-a80c-4222-8fa7-f456c334bfbb', 'x-session-id': '1bf1fa7a-944e-48e4-ac9e-8a98e8bc7829', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:02,547 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:50:02,549 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:50:02,551 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:50:02,577 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией TestCodeResult
2025-03-24 07:50:03,001 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,003 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:02 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '541a04f1-b9fc-46a9-8f4f-eb02952d481d', 'x-session-id': '1c6327e1-5664-47ba-8f9f-6a8e45e2a448', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:03,217 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,221 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '72af4598-001a-4529-a575-ff287c6cc66c', 'x-session-id': '4ba7ec18-be21-4634-ac8c-2e6ba77e4e2d', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:03,224 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:50:03,226 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:50:03,227 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:50:03,245 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией BestPracticesResult
2025-03-24 07:50:03,483 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,486 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '7d7d32b3-8e47-438a-99da-d3e5c0fc497d', 'x-session-id': 'c783e06a-0264-49d9-bbdf-fa6cbd5b4341', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:03,735 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,737 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '23bc7469-6412-4777-b5bb-1b8948abd643', 'x-session-id': '89787bc0-bcfc-46f1-9f40-e9a9d9f00067', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:03,739 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:50:03,740 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:50:03,742 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:50:03,759 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией BugDetectorResult
2025-03-24 07:50:03,987 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:03,989 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:03 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '14d91497-440b-4d21-ade4-92fdf28b04c9', 'x-session-id': '37b77e3c-a1ac-40a9-9b71-2e0bf4d9ecc0', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:04,202 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,204 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': 'eb0dc322-e181-4c03-be3e-0e04a61fdaac', 'x-session-id': '921e07fc-f891-4117-8e34-23367b9c385b', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:04,205 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:50:04,207 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:50:04,208 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:50:04,225 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией VulnerabilityDetectorResult
2025-03-24 07:50:04,464 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,466 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '97325751-64f3-4b50-946b-2aa6b8155970', 'x-session-id': '021ff032-261a-431c-9bde-26da4648d536', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:04,694 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,697 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '7f0586c3-af70-4f7c-b057-1c6e0c1d800c', 'x-session-id': '5ac2bbd9-12a8-4dce-9c38-9c3d2f9db53e', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:04,699 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:50:04,701 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:50:04,703 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:50:04,729 - services.gigachat_service - INFO - Вызов GigaChat для анализа с функцией FinalReportResult
2025-03-24 07:50:04,985 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:04,988 - services.gigachat_service - WARNING - Ошибка при использовании агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:04 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '4f98aeba-f743-41a2-b8f4-18900b413f27', 'x-session-id': '43a2a0f0-d55d-4d3f-82dd-d69b4a13dae2', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'})). Переключаемся на прямой вызов функции.
2025-03-24 07:50:05,234 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-03-24 07:50:05,236 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.kwargs.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 24 Mar 2025 03:50:05 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '75', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': 'e2ffeb50-a19d-4383-8a5c-36d66fb6dc3d', 'x-session-id': '12d0cc20-a54f-40e0-9e36-0addfb6a7264', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-03-24 07:50:05,238 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:50:05,240 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:50:05,242 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:50:05,243 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:52:50,445 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:52:50,447 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:52:50,449 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:52:50,662 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:52:50,663 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:52:50,664 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:52:50,671 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:52:50,744 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:52:50,746 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:52:50,748 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:52:50,750 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:52:50,750 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:52:50,752 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:52:52,248 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:52:52,250 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:52:52,252 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:52:52,253 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:52:52,256 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:52:52,257 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:52:52,259 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:52:52,260 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:52:52,262 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:52:53,429 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:52:58,667 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:52:58,671 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:52:58,673 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:52:58,674 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:52:58,676 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:52:58,677 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:53:03,971 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:03,974 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:03,976 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:53:03,977 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:53:03,979 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:53:03,980 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:53:08,475 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:08,477 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:08,479 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:53:08,481 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:53:08,482 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:53:08,483 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:53:18,199 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:18,203 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:18,204 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:53:18,205 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:53:18,208 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:53:18,209 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:53:24,960 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:24,963 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:24,965 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:53:24,966 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:53:24,967 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:53:24,969 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:53:31,346 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:31,350 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:31,352 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:53:31,353 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:53:31,355 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:53:31,357 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 07:53:52,065 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:53:52,094 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:53:52,095 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:53:52,096 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:53:52,097 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:53:52,098 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:54:55,701 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:54:55,705 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:54:55,706 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:54:55,963 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:54:55,964 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:54:55,965 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:54:55,970 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:54:56,034 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:54:56,036 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:54:56,038 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:54:56,039 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:54:56,040 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:54:56,042 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:55:19,104 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:55:19,105 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:55:19,107 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:55:19,108 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:55:19,109 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:55:19,111 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:55:19,112 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:55:19,113 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:55:19,117 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:55:19,447 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:55:22,942 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:22,945 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:22,946 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:55:22,947 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:55:22,948 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:55:22,952 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:55:25,936 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:25,939 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:25,940 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:55:25,941 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:55:25,942 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:55:25,947 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:55:27,213 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:27,215 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:27,216 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:55:27,217 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:55:27,218 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:55:27,224 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:55:52,957 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:55:52,983 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:55:52,984 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:55:52,986 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:55:52,987 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:55:52,991 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:56:03,234 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:56:03,236 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:56:03,238 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:56:03,239 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:56:03,241 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:56:03,245 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:56:09,807 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:56:09,810 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:56:09,813 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:56:09,814 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:56:09,815 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:56:09,824 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 07:56:39,837 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: The read operation timed out
2025-03-24 07:56:39,838 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:56:39,840 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:56:39,841 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:56:39,842 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:57:17,392 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:57:17,394 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:57:17,395 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:57:17,642 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:57:17,643 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:57:17,644 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:57:17,653 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:57:17,712 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:57:17,714 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:57:17,714 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:57:17,716 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:57:17,717 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:57:17,718 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:57:20,061 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:57:20,062 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:57:20,063 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:57:20,065 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:57:20,067 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:57:20,068 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:57:20,069 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:57:20,070 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:57:20,078 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:57:20,428 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:57:23,650 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:23,652 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:23,655 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:57:23,656 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:57:23,658 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:57:23,662 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:57:27,155 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:27,159 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:27,160 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:57:27,162 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:57:27,164 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:57:27,169 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:57:28,249 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:28,251 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:28,254 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:57:28,255 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:57:28,256 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:57:28,259 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:57:50,945 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:57:50,961 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:57:50,962 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:57:50,963 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:57:50,965 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:57:50,968 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:58:02,323 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:58:02,326 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:58:02,327 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:58:02,328 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:58:02,330 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:58:02,333 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:58:08,349 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:58:08,352 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:58:08,353 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:58:08,355 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:58:08,356 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:58:08,365 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 07:58:38,373 - services.gigachat_service - ERROR - Ошибка при вызове агента с функцией: The read operation timed out
2025-03-24 07:58:38,374 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 07:58:38,375 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 07:58:38,375 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 07:58:38,376 - main - INFO - Анализ кода успешно выполнен
2025-03-24 07:58:54,086 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:58:54,089 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:58:54,090 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:58:54,296 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:58:54,297 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:58:54,298 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:58:54,303 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 07:58:54,361 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 07:58:54,363 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 07:58:54,364 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 07:58:54,365 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 07:58:54,367 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 07:58:54,368 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 07:59:10,596 - main - INFO - Получен запрос на анализ кода
2025-03-24 07:59:10,597 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 07:59:10,598 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 07:59:10,599 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 07:59:10,601 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 07:59:10,603 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 07:59:10,604 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 07:59:10,605 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 07:59:10,610 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: CodeRequirementsResult
2025-03-24 07:59:12,187 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 07:59:15,613 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:15,615 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:15,616 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 07:59:15,617 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 07:59:15,618 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 07:59:15,624 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestRequirementsResult
2025-03-24 07:59:20,550 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:20,553 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:20,555 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 07:59:20,556 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 07:59:20,557 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 07:59:20,563 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: TestCodeResult
2025-03-24 07:59:26,266 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:26,271 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:26,272 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 07:59:26,274 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 07:59:26,275 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 07:59:26,282 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BestPracticesResult
2025-03-24 07:59:36,845 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:36,849 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:36,850 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 07:59:36,851 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 07:59:36,853 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 07:59:36,857 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: BugDetectorResult
2025-03-24 07:59:44,703 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:44,707 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:44,708 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 07:59:44,709 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 07:59:44,710 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 07:59:44,713 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 07:59:48,694 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 07:59:48,696 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 07:59:48,697 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 07:59:48,699 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 07:59:48,700 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 07:59:48,707 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме, ожидаемая схема: FinalReportResult
2025-03-24 08:00:10,943 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 08:00:10,988 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 08:00:10,990 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-24 08:00:10,992 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-24 08:00:10,993 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-24 08:00:10,994 - main - INFO - Анализ кода успешно выполнен
2025-03-24 09:42:10,749 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 09:42:10,751 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 09:42:10,752 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 09:42:11,002 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 09:42:11,003 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 09:42:11,004 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 09:42:11,009 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 09:42:11,078 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 09:42:11,079 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 09:42:11,080 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 09:42:11,081 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 09:42:11,082 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 09:42:11,083 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 10:56:21,973 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 10:56:21,976 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 10:56:21,977 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 10:56:22,230 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-24 10:56:22,231 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 10:56:22,233 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 10:56:22,234 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 10:56:22,241 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-24 10:56:22,329 - root - INFO - Логирование настроено с уровнем INFO
2025-03-24 10:56:22,334 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-24 10:56:22,337 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-24 10:56:22,341 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-24 10:56:22,343 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-24 10:56:22,345 - agents.analyzer - INFO - Инициализация агентов
2025-03-24 10:56:22,347 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-24 10:56:29,940 - main - INFO - Получен запрос на анализ кода
2025-03-24 10:56:29,941 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-24 10:56:29,942 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-24 10:56:29,944 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-24 10:56:29,946 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-24 10:56:29,947 - agents.analyzer - INFO - Начало анализа кода
2025-03-24 10:56:29,948 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-24 10:56:29,950 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-24 10:56:29,955 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-24 10:56:30,482 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-24 10:56:33,454 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:33,458 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:33,460 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-24 10:56:33,461 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-24 10:56:33,462 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-24 10:56:33,467 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-24 10:56:38,062 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:38,065 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:38,066 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-24 10:56:38,068 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-24 10:56:38,069 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-24 10:56:38,074 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-24 10:56:40,824 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:40,826 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:40,827 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-24 10:56:40,828 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-24 10:56:40,829 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-24 10:56:40,832 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-24 10:56:51,306 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:56:51,308 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:56:51,309 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-24 10:56:51,311 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-24 10:56:51,312 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-24 10:56:51,317 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-24 10:57:07,406 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:57:07,414 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:57:07,415 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-24 10:57:07,416 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-24 10:57:07,418 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-24 10:57:07,423 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-24 10:57:20,431 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-24 10:57:20,435 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-24 10:57:20,436 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-24 10:57:20,437 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-24 10:57:20,438 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-24 10:57:20,451 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-24 10:57:50,463 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): The read operation timed out
2025-03-24 10:57:50,464 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-03-26 14:23:27,468 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:23:27,472 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:23:27,474 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:23:27,765 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:23:27,766 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:23:27,768 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:23:27,771 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:23:27,790 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:23:27,895 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:23:27,897 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:23:27,900 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:23:27,904 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:23:27,906 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:23:27,911 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:23:27,914 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:23:30,283 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:23:30,285 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:23:30,287 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-26 14:23:30,288 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-26 14:23:30,290 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-26 14:23:30,293 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:23:30,294 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:23:30,295 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:23:30,301 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:23:30,616 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:23:33,884 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:33,887 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:33,889 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:23:33,890 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:23:33,891 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:23:33,896 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:23:36,784 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:36,788 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:36,790 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:23:36,791 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:23:36,792 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:23:36,797 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:23:39,716 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:39,719 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:39,720 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:23:39,722 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:23:39,724 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:23:39,727 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:23:51,382 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:23:51,387 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:23:51,389 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:23:51,391 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:23:51,393 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:23:51,398 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:24:05,607 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:24:05,623 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:24:05,625 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:24:05,626 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:24:05,629 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:24:05,629 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:24:05,633 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:24:10,142 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:24:10,148 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:24:10,151 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:24:10,152 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:24:10,153 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:24:10,161 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:24:26,059 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:24:26,063 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:24:26,065 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:24:26,067 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:24:26,070 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:24:26,071 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:35:57,736 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:35:57,740 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:35:57,742 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,027 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,028 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:35:58,030 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:35:58,032 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:35:58,034 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,035 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,037 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:35:58,056 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:35:58,148 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:35:58,149 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:35:58,151 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,152 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,154 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:35:58,155 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:35:58,156 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:35:58,158 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:35:58,159 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:35:58,160 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:36:04,586 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:36:04,632 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:36:10,423 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:36:10,424 - main - INFO - Extreme mode: Выключен
2025-03-26 14:36:10,426 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:36:10,428 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:36:10,429 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:10,642 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:36:11,124 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:11,128 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:11,129 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:11,131 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:36:11,132 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:36:11,135 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:11,534 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:11,593 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:11,595 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:11,596 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:36:11,597 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:36:11,598 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:11,960 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:11,962 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Нет данных для анализа.
2025-03-26 14:36:11,963 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:36:11,964 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:12,277 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:12,280 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:12,281 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:36:12,282 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:36:12,284 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:36:12,321 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:36:12,322 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:36:12,323 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-26 14:36:12,326 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-26 14:36:12,328 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-26 14:36:12,330 - main - INFO - Extreme mode: Выключен
2025-03-26 14:36:12,332 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:36:12,333 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:36:12,335 - main - INFO - Extreme mode: Выключен
2025-03-26 14:36:12,336 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:36:12,339 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:36:12,340 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:12,738 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:12,741 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:12,742 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:12,743 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:36:12,744 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:36:12,746 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:14,606 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:14,610 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:36:14,612 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:14,613 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:36:14,613 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:36:14,616 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:15,339 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:15,341 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Предоставленные данные не являются кодом на Python, а запросом к модели. Пожалуйста, предоставьте корректный ввод.
2025-03-26 14:36:15,342 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:36:15,343 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:36:15,595 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:36:15,597 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:36:15,598 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:36:15,600 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:36:15,600 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:36:15,601 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:36:15,603 - main - ERROR - Ошибка при анализе кода: 'dict' object has no attribute 'story'
Traceback (most recent call last):
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\main.py", line 69, in analyze_code
    result = code_analyzer.analyze(processed_data)
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\agents\analyzer.py", line 63, in analyze
    "story": request.story or config.DEFAULT_STORY,
AttributeError: 'dict' object has no attribute 'story'
2025-03-26 14:37:06,170 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:37:06,172 - main - INFO - Extreme mode: Выключен
2025-03-26 14:37:06,173 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:37:06,175 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:37:06,176 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:06,730 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:06,734 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:06,736 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:06,737 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:37:06,739 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:37:06,741 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:08,468 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:08,470 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:08,472 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:08,473 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:37:08,475 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:37:08,476 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:09,082 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:09,087 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Неподходящий запрос. Пожалуйста, уточните данные или требования.
2025-03-26 14:37:09,089 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:37:09,091 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:09,409 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:09,413 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:09,416 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:37:09,418 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:37:09,419 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:37:09,445 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:37:09,446 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:37:09,448 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-03-26 14:37:09,451 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-03-26 14:37:09,455 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-03-26 14:37:09,458 - main - INFO - Extreme mode: Выключен
2025-03-26 14:37:09,459 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:37:09,460 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:37:09,461 - main - INFO - Extreme mode: Выключен
2025-03-26 14:37:09,462 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:37:09,465 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:37:09,466 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:09,883 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:09,886 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:09,888 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:09,890 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:37:09,891 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:37:09,893 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:10,220 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:10,224 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:37:10,227 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:37:10,229 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:37:10,232 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:37:10,234 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:10,616 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:10,620 - agents.preprocessor_agent - ERROR - Ошибка обработки code: Нет данных для анализа.
2025-03-26 14:37:10,622 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:37:10,624 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:37:11,066 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:37:11,070 - agents.preprocessor_agent - ERROR - Ошибка обработки test_cases: Нет данных для анализа.
2025-03-26 14:37:11,072 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:37:11,074 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:37:11,078 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:37:11,080 - main - ERROR - Ошибка при анализе кода: 'dict' object has no attribute 'story'
Traceback (most recent call last):
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\main.py", line 69, in analyze_code
    result = code_analyzer.analyze(processed_data)
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\agents\analyzer.py", line 63, in analyze
    "story": request.story or config.DEFAULT_STORY,
AttributeError: 'dict' object has no attribute 'story'
2025-03-26 14:39:24,376 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:39:24,380 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:39:24,381 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,623 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,624 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:24,626 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:39:24,628 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:39:24,628 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,629 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,631 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:24,640 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:39:24,713 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:39:24,715 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:39:24,717 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,718 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,719 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:24,719 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:39:24,721 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:39:24,723 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:39:24,724 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:39:24,725 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:39:28,362 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:39:28,363 - main - INFO - Extreme mode: Выключен
2025-03-26 14:39:28,364 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:39:28,366 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:39:28,367 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:28,912 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:39:29,590 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:29,598 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:39:29,601 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:39:29,604 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:31,450 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:31,454 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:39:31,456 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:39:31,459 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:42,279 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:42,281 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:39:42,282 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:39:42,283 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:52,833 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:52,835 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:39:52,837 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:39:52,837 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:39:52,871 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:39:52,871 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-03-26 14:39:52,873 - main - INFO - Requirements: Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.

Создать функци...
2025-03-26 14:39:52,875 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Кла...
2025-03-26 14:39:52,877 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 14:39:52,879 - main - INFO - Extreme mode: Выключен
2025-03-26 14:39:52,880 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:39:52,881 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:39:52,882 - main - INFO - Extreme mode: Выключен
2025-03-26 14:39:52,883 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:39:52,884 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:39:52,885 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:53,342 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:53,344 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:39:53,346 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:39:53,347 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:39:55,417 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:39:55,419 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:39:55,421 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:39:55,422 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:40:05,945 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:05,948 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:40:05,949 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:40:05,951 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:40:16,310 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:16,313 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:40:16,314 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:40:16,315 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:40:16,317 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:40:16,318 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:40:16,319 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:40:16,325 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:40:16,561 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:40:18,468 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:18,471 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:18,472 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:40:18,473 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:40:18,474 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:40:18,480 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:40:19,988 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:19,991 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:19,992 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:40:19,994 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:40:19,995 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:40:20,000 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:40:24,465 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:24,468 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:24,469 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:40:24,470 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:40:24,470 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:40:24,474 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:40:36,736 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:36,748 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:36,749 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:40:36,750 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:40:36,751 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:40:36,754 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:40:51,128 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:51,134 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:51,135 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:40:51,137 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:40:51,138 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:40:51,143 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:40:56,419 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:40:56,423 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:40:56,424 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:40:56,426 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:40:56,427 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:40:56,439 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:41:21,787 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:41:21,819 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:41:21,820 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:41:21,821 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:41:21,823 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:41:21,824 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:42:38,189 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:42:38,191 - main - INFO - Extreme mode: Включен
2025-03-26 14:42:38,192 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме экстремальный
2025-03-26 14:42:38,193 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:42:38,194 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:38,827 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:38,830 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:42:38,831 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:42:38,832 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:40,304 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:40,306 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:42:40,309 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:42:40,310 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:42,312 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:42,314 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:42:42,315 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:42:42,317 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:49,548 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:49,551 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:42:49,553 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:42:49,554 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:42:49,572 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:42:49,574 - main - INFO - Story: Создатьбиблиотекусортировкитоваровпоразличнымпараметрамдляинтернет-магазина.
2025-03-26 14:42:49,575 - main - INFO - Requirements: Создать класс Product(id,name,price,rating,date_added).Создать функцию sort_products(список_товаров,...
2025-03-26 14:42:49,577 - main - INFO - Code: class P:def __init__(i,id,n,name,p,price,r=rating,dt=datetime):i.id=i;i.n=n;i.p=p;i.r=r;i.dt=dt;def ...
2025-03-26 14:42:49,579 - main - INFO - Test cases: import unittest;from datetime import*;class T(unittest.TestCase):def s(self):self.p=[P(1,"L",1200,4....
2025-03-26 14:42:49,580 - main - INFO - Extreme mode: Включен
2025-03-26 14:42:49,581 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:42:49,583 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:42:49,585 - main - INFO - Extreme mode: Включен
2025-03-26 14:42:49,586 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме экстремальный
2025-03-26 14:42:49,586 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:42:49,589 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:50,051 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:50,053 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:42:50,055 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:42:50,056 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:51,278 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:51,280 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:42:51,282 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:42:51,283 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:52,734 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:52,735 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:42:52,738 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:42:52,740 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:42:58,987 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:42:58,990 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:42:58,991 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:42:58,993 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:42:58,994 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:42:58,995 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:42:58,996 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:42:59,001 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:43:04,309 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:04,312 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:04,314 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:43:04,315 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:43:04,315 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:43:04,319 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:43:09,428 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:09,433 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:09,433 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:43:09,436 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:43:09,436 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:43:09,442 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:43:13,541 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:13,548 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:13,550 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:43:13,553 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:43:13,554 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:43:13,559 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:43:28,745 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:30,255 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:30,256 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:43:30,257 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:43:30,258 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:43:30,261 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:43:44,225 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:44,251 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:44,253 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:43:44,254 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:43:44,256 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:43:44,260 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:43:51,338 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:43:51,341 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:43:51,345 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:43:51,346 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:43:51,347 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:43:51,354 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:44:15,811 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:44:15,875 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:44:15,877 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:44:15,880 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:44:15,884 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:44:15,888 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:49:57,952 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:49:57,954 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:49:57,956 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,187 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,189 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:49:58,190 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:49:58,192 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:49:58,193 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,195 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,196 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:49:58,216 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:49:58,292 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:49:58,294 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:49:58,295 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,297 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,298 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:49:58,300 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:49:58,301 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:49:58,302 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:49:58,304 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:49:58,306 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:50:10,594 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:50:10,604 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 14:50:17,075 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:50:17,077 - main - INFO - Story: Разрабатываем модуль для расчета скидок в системе лояльности для нашей розничной сети.
2025-03-26 14:50:17,078 - main - INFO - Requirements: 1. Создать функцию calculate_discount, которая рассчитывает скидку на основе суммы покупки и уровня ...
2025-03-26 14:50:17,080 - main - INFO - Code: def calculate_discount(purchase_amount, loyalty_level='standard', promo_code=None):
    """Рассчитыв...
2025-03-26 14:50:17,082 - main - INFO - Test cases: import unittest
from discount_calculator import calculate_discount

class TestDiscountCalculator(uni...
2025-03-26 14:50:17,084 - main - INFO - Enable preprocessing: Выключено
2025-03-26 14:50:17,085 - main - INFO - Предобработка данных отключена, используем исходные данные
2025-03-26 14:50:17,086 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:50:17,087 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:50:17,088 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:50:17,093 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:50:17,346 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:50:19,505 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:19,507 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:19,509 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:50:19,510 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:50:19,511 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:50:19,516 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:50:22,578 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:22,581 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:22,582 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:50:22,583 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:50:22,584 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:50:22,588 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:50:24,229 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:24,231 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:24,232 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:50:24,233 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:50:24,234 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:50:24,238 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:50:35,555 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:35,601 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:35,602 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:50:35,604 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:50:35,605 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:50:35,609 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:50:48,999 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:50:49,003 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:50:49,004 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:50:49,005 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:50:49,006 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:50:49,009 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:51:02,431 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:51:02,435 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:51:02,437 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:51:02,439 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:51:02,440 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:51:02,451 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:51:29,128 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:51:29,194 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:51:29,195 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:51:29,198 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:51:29,199 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:51:29,200 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:52:18,958 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:52:18,959 - main - INFO - Story: Нужно написать простой конвертер валют для мобильного приложения.
2025-03-26 14:52:18,962 - main - INFO - Requirements: 1. Функция convert_currency должна переводить сумму из одной валюты в другую
2. Должны поддерживатьс...
2025-03-26 14:52:18,963 - main - INFO - Code: exchange_rates = {
    'USD': {'EUR': 0.85, 'GBP': 0.75, 'JPY': 110.2, 'RUB': 74.12},
    'EUR': {'U...
2025-03-26 14:52:18,964 - main - INFO - Test cases: # Тесты для конвертера валют

import unittest

class TestCurrencyConverter(unittest.TestCase):
    d...
2025-03-26 14:52:18,967 - main - INFO - Enable preprocessing: Выключено
2025-03-26 14:52:18,968 - main - INFO - Предобработка данных отключена, используем исходные данные
2025-03-26 14:52:18,970 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:52:18,971 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:52:18,973 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:52:18,977 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:52:21,433 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:21,436 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:21,437 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:52:21,438 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:52:21,440 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:52:21,444 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:52:24,882 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:24,885 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:52:24,886 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:24,887 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:52:24,889 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:52:24,890 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:52:24,896 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:52:26,559 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:26,562 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:26,563 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:52:26,564 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:52:26,565 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:52:26,569 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:52:35,729 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:35,754 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:35,755 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:52:35,756 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:52:35,757 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:52:35,761 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:52:48,898 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:48,918 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:48,919 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:52:48,920 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:52:48,921 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:52:48,925 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:52:57,712 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:52:57,723 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:52:57,724 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:52:57,725 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:52:57,726 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:52:57,734 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:53:20,275 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:53:20,307 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:53:20,308 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:53:20,309 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:53:20,311 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:53:20,311 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:54:26,290 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:54:26,293 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:54:26,294 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,566 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,567 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:26,570 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:54:26,572 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:54:26,574 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,577 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,579 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:26,594 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:54:26,697 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:54:26,699 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:54:26,700 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,702 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,703 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:26,705 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:54:26,706 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:54:26,708 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:54:26,709 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:54:26,711 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:54:31,149 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:54:31,150 - main - INFO - Extreme mode: Выключен
2025-03-26 14:54:31,153 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:54:31,154 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:54:31,156 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:54:31,474 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:54:32,180 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:54:32,185 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:54:32,186 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:54:32,190 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:54:34,931 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:54:34,935 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:54:34,936 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:54:34,939 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:54:47,363 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:54:47,366 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:54:47,367 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:54:47,369 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:00,207 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:00,209 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:55:00,211 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:55:00,212 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:55:00,632 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:55:00,633 - main - INFO - Story: Создать библиотеку для сортировки списка товаров по различным параметрам, используемую в интернет-ма...
2025-03-26 14:55:00,635 - main - INFO - Requirements: 1. Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.
2. Создать ф...
2025-03-26 14:55:00,637 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Пре...
2025-03-26 14:55:00,640 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 14:55:00,643 - main - INFO - Enable preprocessing: Включено
2025-03-26 14:55:00,645 - main - INFO - Extreme mode: Выключен
2025-03-26 14:55:00,646 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:55:00,647 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:55:00,649 - main - INFO - Extreme mode: Выключен
2025-03-26 14:55:00,650 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:55:00,651 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:55:00,652 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:01,216 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:01,219 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:55:01,221 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:55:01,222 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:04,045 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:04,048 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:55:04,049 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:55:04,050 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:15,964 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:15,971 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:55:15,974 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:55:15,975 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:55:29,081 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:29,084 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:55:29,087 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:55:29,090 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:55:29,091 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:55:29,092 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:55:29,094 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:55:29,101 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:55:29,265 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:55:33,898 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:33,900 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:33,902 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:55:33,903 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:55:33,903 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:55:33,907 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:55:38,544 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:38,548 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:38,549 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:55:38,551 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:55:38,553 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:55:38,559 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:55:44,074 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:44,077 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:44,078 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:55:44,080 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:55:44,081 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:55:44,087 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 14:55:53,689 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:55:53,693 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:55:53,694 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 14:55:53,696 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 14:55:53,697 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 14:55:53,700 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 14:56:07,130 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:56:07,134 - services.gigachat_service - WARNING - Не удалось извлечь JSON из ответа GigaChat. Возвращаем значения по умолчанию.
2025-03-26 14:56:07,136 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:56:07,136 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 14:56:07,138 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 14:56:07,139 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 14:56:07,142 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 14:56:20,505 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:56:20,508 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:56:20,509 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 14:56:20,510 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 14:56:20,510 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 14:56:20,519 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 14:56:44,692 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:56:44,755 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:56:44,756 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 14:56:44,758 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 14:56:44,759 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 14:56:44,761 - main - INFO - Анализ кода успешно выполнен
2025-03-26 14:58:40,313 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:58:40,315 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:58:40,317 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,593 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,594 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:40,595 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:58:40,598 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:58:40,599 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,600 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,602 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:40,621 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 14:58:40,700 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 14:58:40,702 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 14:58:40,705 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,706 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,708 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:40,711 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 14:58:40,712 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 14:58:40,713 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 14:58:40,715 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 14:58:40,716 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 14:58:42,408 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:58:42,409 - main - INFO - Extreme mode: Выключен
2025-03-26 14:58:42,412 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:58:42,413 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:58:42,414 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:58:42,662 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:58:43,326 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:58:43,331 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:58:43,333 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:58:43,334 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:58:46,083 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:58:46,085 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:58:46,087 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:58:46,088 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:58:57,968 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:58:57,985 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:58:57,986 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:58:57,987 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:11,080 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:11,083 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:59:11,085 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:59:11,086 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:59:11,141 - main - INFO - Получен запрос на анализ кода
2025-03-26 14:59:11,142 - main - INFO - Story: Создать библиотеку для сортировки списка товаров по различным параметрам, используемую в интернет-ма...
2025-03-26 14:59:11,144 - main - INFO - Requirements: 1. Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.
2. Создать ф...
2025-03-26 14:59:11,145 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Пре...
2025-03-26 14:59:11,148 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 14:59:11,149 - main - INFO - Enable preprocessing: Включено
2025-03-26 14:59:11,151 - main - INFO - Extreme mode: Выключен
2025-03-26 14:59:11,152 - main - INFO - Предобработка данных перед анализом
2025-03-26 14:59:11,153 - main - INFO - Получен запрос на предобработку данных
2025-03-26 14:59:11,155 - main - INFO - Extreme mode: Выключен
2025-03-26 14:59:11,155 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 14:59:11,157 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 14:59:11,158 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:12,112 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:12,114 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 14:59:12,116 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 14:59:12,117 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:14,616 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:14,618 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 14:59:14,619 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 14:59:14,621 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:26,427 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:26,429 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 14:59:26,430 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 14:59:26,431 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 14:59:39,462 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:39,465 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 14:59:39,466 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 14:59:39,467 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 14:59:39,468 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 14:59:39,469 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 14:59:39,469 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 14:59:39,474 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 14:59:39,717 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 14:59:45,416 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:45,420 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:59:45,422 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 14:59:45,423 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 14:59:45,424 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 14:59:45,428 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 14:59:50,894 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:50,898 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:59:50,898 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 14:59:50,900 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 14:59:50,902 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 14:59:50,905 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 14:59:56,293 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 14:59:56,298 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 14:59:56,299 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 14:59:56,300 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 14:59:56,303 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 14:59:56,306 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 15:00:05,566 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:05,570 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:05,571 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 15:00:05,572 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 15:00:05,573 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 15:00:05,578 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 15:00:21,723 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:21,726 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:21,727 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 15:00:21,729 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 15:00:21,730 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 15:00:21,734 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 15:00:24,922 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:24,925 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:24,926 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 15:00:24,926 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 15:00:24,927 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 15:00:24,935 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 15:00:51,363 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:00:51,414 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:00:51,415 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 15:00:51,416 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 15:00:51,417 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 15:00:51,418 - main - INFO - Анализ кода успешно выполнен
2025-03-26 15:21:45,798 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 15:21:45,801 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 15:21:46,051 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 15:21:46,052 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 15:21:46,069 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-03-26 15:21:46,071 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-03-26 15:21:46,073 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-03-26 15:21:46,075 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-03-26 15:21:46,076 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-03-26 15:21:46,077 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 15:21:46,078 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 15:21:46,079 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 15:21:46,080 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 15:21:46,082 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 15:21:46,083 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 15:21:46,094 - __main__ - INFO - Запуск сервера на порту 8082
2025-03-26 15:21:46,161 - root - INFO - Логирование настроено с уровнем INFO
2025-03-26 15:21:46,162 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 15:21:46,164 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 15:21:46,165 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 15:21:46,169 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-03-26 15:21:46,170 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-03-26 15:21:46,170 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-03-26 15:21:46,171 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-03-26 15:21:46,172 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-03-26 15:21:46,174 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-03-26 15:21:46,175 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-03-26 15:21:46,175 - langchain_gigachat.chat_models.base_gigachat - WARNING - Extra fields {'request_timeout'} in GigaChat class
2025-03-26 15:21:46,176 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-03-26 15:21:46,177 - agents.analyzer - INFO - Инициализация агентов
2025-03-26 15:21:46,178 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-03-26 15:21:51,209 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 15:21:51,217 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 15:21:51,266 - main - INFO - Запрос на получение статистики кэша
2025-03-26 15:21:51,660 - main - INFO - Запрос на получение статистики кэша
2025-03-26 15:21:56,075 - main - INFO - Получен запрос на предобработку данных
2025-03-26 15:21:56,077 - main - INFO - Extreme mode: Выключен
2025-03-26 15:21:56,079 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 15:21:56,080 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 15:21:56,081 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:21:56,463 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 15:21:57,282 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:21:57,286 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 15:21:57,287 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 15:21:57,289 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:21:59,791 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:21:59,795 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 15:21:59,797 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 15:21:59,798 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:22:11,782 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:11,785 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 15:22:11,787 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 15:22:11,789 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:22:24,527 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:24,531 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 15:22:24,532 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 15:22:24,533 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 15:22:24,574 - main - INFO - Получен запрос на анализ кода
2025-03-26 15:22:24,575 - main - INFO - Story: Создать библиотеку для сортировки списка товаров по различным параметрам, используемую в интернет-ма...
2025-03-26 15:22:24,577 - main - INFO - Requirements: 1. Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.
2. Создать ф...
2025-03-26 15:22:24,580 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Пре...
2025-03-26 15:22:24,582 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 15:22:24,585 - main - INFO - Enable preprocessing: Включено
2025-03-26 15:22:24,586 - main - INFO - Use cache: Включено
2025-03-26 15:22:24,587 - main - INFO - Extreme mode: Выключен
2025-03-26 15:22:24,588 - main - INFO - Предобработка данных перед анализом
2025-03-26 15:22:24,588 - main - INFO - Получен запрос на предобработку данных
2025-03-26 15:22:24,591 - main - INFO - Extreme mode: Выключен
2025-03-26 15:22:24,592 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 15:22:24,594 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 15:22:24,596 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:22:25,129 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:25,133 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 15:22:25,135 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 15:22:25,136 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:22:27,691 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:27,695 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 15:22:27,696 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 15:22:27,698 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:22:36,603 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:36,608 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 15:22:36,611 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 15:22:36,614 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:22:49,443 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:49,446 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 15:22:49,447 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 15:22:49,449 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 15:22:49,452 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 15:22:49,454 - agents.analyzer - INFO - Кэширование включено. Проверка наличия подобных результатов в кэше
2025-03-26 15:22:49,458 - agents.analyzer - INFO - В кэше не найдено подходящих результатов
2025-03-26 15:22:49,459 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 15:22:49,461 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 15:22:49,468 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 15:22:49,687 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-03-26 15:22:53,962 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:53,965 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:22:53,966 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 15:22:53,969 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 15:22:53,970 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 15:22:53,977 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 15:22:59,015 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:22:59,018 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:22:59,019 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 15:22:59,020 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 15:22:59,021 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 15:22:59,027 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 15:23:04,376 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:23:04,379 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:23:04,379 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 15:23:04,381 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 15:23:04,382 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 15:23:04,385 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 15:23:12,568 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:23:12,570 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:23:12,572 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 15:23:12,573 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 15:23:12,574 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 15:23:12,577 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 15:23:31,837 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:23:31,905 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:23:31,906 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 15:23:31,907 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 15:23:31,908 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 15:23:31,910 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 15:23:38,865 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:23:38,867 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:23:38,868 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 15:23:38,869 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 15:23:38,870 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 15:23:38,880 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 15:24:04,667 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:24:04,670 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:24:04,671 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 15:24:04,675 - services.cache_service - INFO - Баг добавлен в кэш: bug_500bda09ba5f733ac16e4a8e046f5c3f
2025-03-26 15:24:04,678 - services.cache_service - INFO - Баг добавлен в кэш: bug_cdc2cfa1575743da395afddc37603a21
2025-03-26 15:24:04,682 - services.cache_service - INFO - Баг добавлен в кэш: bug_133a5c2d01a2e0729511bd12a552e479
2025-03-26 15:24:04,685 - services.cache_service - INFO - Баг добавлен в кэш: bug_05c7bbd78f43493494b638d9df2494fb
2025-03-26 15:24:04,686 - agents.analyzer - INFO - Добавлено 4 багов в кэш
2025-03-26 15:24:04,690 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_8b47fce07972edd50e08408653acda1d
2025-03-26 15:24:04,692 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_1fd8bf10d4ef3c32f4bb7a7aa88cfcd2
2025-03-26 15:24:04,695 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_15ceb8c9afdc6feb4085d236922c14db
2025-03-26 15:24:04,696 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_b1aecf0a25eebba355b31e141b579b1e
2025-03-26 15:24:04,697 - agents.analyzer - INFO - Добавлено 4 рекомендаций в кэш
2025-03-26 15:24:04,700 - services.cache_service - INFO - Требование добавлено в кэш: req_8e7eba8c6f713c327ee97be22325e8df
2025-03-26 15:24:04,703 - services.cache_service - INFO - Требование добавлено в кэш: req_b8bb1643b83975107a966e38441c7b92
2025-03-26 15:24:04,706 - services.cache_service - INFO - Требование добавлено в кэш: req_6d4277ecc5a6ff4eaa8dde58b0b101c2
2025-03-26 15:24:04,707 - agents.analyzer - INFO - Результаты анализа успешно добавлены в кэш
2025-03-26 15:24:04,708 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 15:24:04,709 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 15:24:04,710 - main - INFO - Статистика кэширования: Количество запросов: 3, Использовано из кэша: 0, Не найдено в кэше: 3, Добавлено в кэш: 11, Процент попаданий: 0.00%
2025-03-26 15:24:04,711 - main - INFO - Добавлено в кэш: 11 элемент(ов)
2025-03-26 15:24:04,711 - main - INFO - Анализ кода успешно выполнен
2025-03-26 15:24:04,731 - main - INFO - Запрос на получение статистики кэша
2025-03-26 15:24:33,589 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 15:24:33,595 - main - INFO - Запрос на проверку работоспособности API
2025-03-26 15:24:33,612 - main - INFO - Запрос на получение статистики кэша
2025-03-26 15:24:33,950 - main - INFO - Запрос на получение статистики кэша
2025-03-26 15:24:40,124 - main - INFO - Получен запрос на предобработку данных
2025-03-26 15:24:40,127 - main - INFO - Extreme mode: Выключен
2025-03-26 15:24:40,128 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 15:24:40,130 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 15:24:40,131 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:24:40,872 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:24:40,876 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 15:24:40,879 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 15:24:40,880 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:24:43,707 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:24:43,710 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 15:24:43,711 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 15:24:43,712 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:24:57,008 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:24:57,023 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 15:24:57,025 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 15:24:57,026 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:25:11,531 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:11,534 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 15:25:11,537 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 15:25:11,538 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 15:25:11,557 - main - INFO - Получен запрос на анализ кода
2025-03-26 15:25:11,558 - main - INFO - Story: Создать библиотеку для сортировки списка товаров по различным параметрам, используемую в интернет-ма...
2025-03-26 15:25:11,559 - main - INFO - Requirements: 1. Создать класс `Product` с атрибутами: `id`, `name`, `price`, `rating`, `date_added`.
2. Создать ф...
2025-03-26 15:25:11,560 - main - INFO - Code: ```python
from datetime import datetime
from typing import List, Literal


class Product:
    """Пре...
2025-03-26 15:25:11,561 - main - INFO - Test cases: ```python
import unittest
from datetime import datetime, timedelta
from product_sorter import Produc...
2025-03-26 15:25:11,563 - main - INFO - Enable preprocessing: Включено
2025-03-26 15:25:11,564 - main - INFO - Use cache: Включено
2025-03-26 15:25:11,566 - main - INFO - Extreme mode: Выключен
2025-03-26 15:25:11,567 - main - INFO - Предобработка данных перед анализом
2025-03-26 15:25:11,568 - main - INFO - Получен запрос на предобработку данных
2025-03-26 15:25:11,569 - main - INFO - Extreme mode: Выключен
2025-03-26 15:25:11,571 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-03-26 15:25:11,572 - agents.preprocessor_agent - INFO - Обработка поля story
2025-03-26 15:25:11,573 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:25:12,234 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:12,238 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-03-26 15:25:12,239 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-03-26 15:25:12,240 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:25:15,054 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:15,056 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-03-26 15:25:15,058 - agents.preprocessor_agent - INFO - Обработка поля code
2025-03-26 15:25:15,059 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:25:27,920 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:27,922 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-03-26 15:25:27,924 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-03-26 15:25:27,925 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-03-26 15:25:42,253 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:42,255 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-03-26 15:25:42,256 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-03-26 15:25:42,257 - main - INFO - Предобработка данных успешно выполнена
2025-03-26 15:25:42,258 - agents.analyzer - INFO - Начало анализа кода
2025-03-26 15:25:42,259 - agents.analyzer - INFO - Кэширование включено. Проверка наличия подобных результатов в кэше
2025-03-26 15:25:42,261 - services.cache_service - INFO - Найдена рекомендация в кэше: rec_15ceb8c9afdc6feb4085d236922c14db
2025-03-26 15:25:42,263 - services.cache_service - INFO - Найдена рекомендация в кэше: rec_b1aecf0a25eebba355b31e141b579b1e
2025-03-26 15:25:42,264 - agents.analyzer - INFO - Найдены похожие результаты в кэше: 0 багов, 0 уязвимостей, 2 рекомендаций
2025-03-26 15:25:42,266 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-03-26 15:25:42,267 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-03-26 15:25:42,271 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-03-26 15:25:46,050 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:46,052 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:25:46,054 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-03-26 15:25:46,055 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-03-26 15:25:46,056 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-03-26 15:25:46,061 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-03-26 15:25:52,799 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:52,802 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:25:52,803 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-03-26 15:25:52,804 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-03-26 15:25:52,805 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-03-26 15:25:52,810 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-03-26 15:25:58,493 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:25:58,496 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:25:58,497 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-03-26 15:25:58,498 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-03-26 15:25:58,499 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-03-26 15:25:58,502 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-03-26 15:26:09,807 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:26:09,813 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:26:09,814 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-03-26 15:26:09,816 - agents.analyzer - INFO - Запуск агента обнаружения багов
2025-03-26 15:26:09,816 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-03-26 15:26:09,820 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-03-26 15:26:23,555 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:26:23,560 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:26:23,561 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-03-26 15:26:23,562 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-03-26 15:26:23,563 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-03-26 15:26:23,568 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-03-26 15:26:26,700 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:26:26,702 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:26:26,703 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-03-26 15:26:26,704 - agents.analyzer - INFO - Добавляем 2 кэшированных рекомендаций
2025-03-26 15:26:26,705 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-03-26 15:26:26,706 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-03-26 15:26:26,714 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-03-26 15:26:44,844 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-03-26 15:26:44,865 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-03-26 15:26:44,867 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-03-26 15:26:44,869 - services.cache_service - INFO - Баг добавлен в кэш: bug_a6cbe2ef78267b77a7cd2a65a5dbea34
2025-03-26 15:26:44,872 - services.cache_service - INFO - Баг добавлен в кэш: bug_1bc96b91d6cd35c4291936d9964c7332
2025-03-26 15:26:44,876 - services.cache_service - INFO - Баг добавлен в кэш: bug_d6ecd5bac5e8536b5bacf3e8fabfeabb
2025-03-26 15:26:44,880 - services.cache_service - INFO - Баг добавлен в кэш: bug_8f7436e2b349aa5008f27e59ef775ebb
2025-03-26 15:26:44,882 - agents.analyzer - INFO - Добавлено 4 багов в кэш
2025-03-26 15:26:44,886 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_6cea10aa48b1f85971008186ac5fc735
2025-03-26 15:26:44,889 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_1f3c8b3e99dd4769933829898def24ce
2025-03-26 15:26:44,892 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_4d8916bce35fdffaf7b987acc537c534
2025-03-26 15:26:44,896 - services.cache_service - INFO - Рекомендация добавлена в кэш: rec_2b287f0e043585d6bd4c6a30cafbee11
2025-03-26 15:26:44,898 - agents.analyzer - INFO - Добавлено 4 рекомендаций в кэш
2025-03-26 15:26:44,901 - services.cache_service - INFO - Требование добавлено в кэш: req_ecffae902ceb319c1d978dade165ba04
2025-03-26 15:26:44,904 - services.cache_service - INFO - Требование добавлено в кэш: req_867cf7f7379dbce2ff753ed5c2f409e2
2025-03-26 15:26:44,907 - services.cache_service - INFO - Требование добавлено в кэш: req_097d84d96428068bf27143f7eac7ca72
2025-03-26 15:26:44,911 - services.cache_service - INFO - Требование добавлено в кэш: req_4e6f837d42ea928ec2892cee0fbe4369
2025-03-26 15:26:44,912 - agents.analyzer - INFO - Результаты анализа успешно добавлены в кэш
2025-03-26 15:26:44,914 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-03-26 15:26:44,915 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-03-26 15:26:44,917 - main - INFO - Статистика кэширования: Количество запросов: 7, Использовано из кэша: 2, Не найдено в кэше: 5, Добавлено в кэш: 23, Процент попаданий: 28.57%
2025-03-26 15:26:44,918 - main - INFO - Найдено в кэше: 2 элемент(ов)
2025-03-26 15:26:44,919 - main - INFO - Найденные в кэше рекомендации: rec_15ceb8c9afdc6feb4085d236922c14db, rec_b1aecf0a25eebba355b31e141b579b1e
2025-03-26 15:26:44,920 - main - INFO - Добавлено в кэш: 23 элемент(ов)
2025-03-26 15:26:44,921 - main - INFO - Анализ кода успешно выполнен
2025-03-26 15:26:44,941 - main - INFO - Запрос на получение статистики кэша
2025-04-08 03:04:36,787 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:04:36,788 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:04:37,036 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:04:37,047 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:04:37,048 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:04:37,049 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:04:37,050 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:04:37,050 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:04:37,051 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:04:37,051 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:04:37,052 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:04:37,052 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:04:37,053 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:04:37,065 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:04:37,137 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:04:37,138 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:04:37,139 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:04:37,146 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:04:37,147 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:04:37,148 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:04:37,148 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:04:37,149 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:04:37,149 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:04:37,150 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:04:37,151 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:04:37,151 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:04:37,152 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:10:29,462 - main - INFO - Запрос на проверку работоспособности API
2025-04-08 03:10:29,467 - main - INFO - Запрос на проверку работоспособности API
2025-04-08 03:10:29,481 - main - INFO - Запрос на получение статистики кэша
2025-04-08 03:10:29,886 - main - INFO - Запрос на получение статистики кэша
2025-04-08 03:10:40,944 - main - INFO - Получен запрос на предобработку данных
2025-04-08 03:10:40,944 - main - INFO - Extreme mode: Выключен
2025-04-08 03:10:40,945 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-04-08 03:10:40,946 - agents.preprocessor_agent - INFO - Обработка поля story
2025-04-08 03:10:40,947 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,323 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,324 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'f4237cf6-e68c-4503-87c6-820df1ad8dbd', 'x-session-id': 'ae3fff42-e4fa-4533-b896-fc0e9ff9ab24', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,326 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-04-08 03:10:41,326 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-04-08 03:10:41,327 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,372 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,374 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '1f53d518-26b4-41ee-9d07-d7b97d36661a', 'x-session-id': '80f6bcfe-85a5-45f6-98b4-6f8d8719810c', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,376 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-04-08 03:10:41,377 - agents.preprocessor_agent - INFO - Обработка поля code
2025-04-08 03:10:41,378 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,426 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,427 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'e170d440-39be-4885-be7a-38ba37e1cff3', 'x-session-id': 'a6da0190-2c18-4706-9677-96c2284d4208', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,429 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-04-08 03:10:41,430 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-04-08 03:10:41,430 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,479 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,481 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '4a232921-72f6-4660-98d2-35a05fc74919', 'x-session-id': 'd6c9edf5-9bf0-413d-b757-c55002974fbc', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,483 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-04-08 03:10:41,484 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-04-08 03:10:41,484 - main - INFO - Предобработка данных успешно выполнена
2025-04-08 03:10:41,538 - main - INFO - Получен запрос на анализ кода
2025-04-08 03:10:41,539 - main - INFO - Story: Нужно создать библиотеку для сортировки списка товаров по различным параметрам, которая будет исполь...
2025-04-08 03:10:41,540 - main - INFO - Requirements: 1. Создать класс Product с атрибутами: id, name, price, rating, date_added
2. Создать функцию sort_p...
2025-04-08 03:10:41,541 - main - INFO - Code: from datetime import datetime
from typing import List, Dict, Any, Literal, Union, Optional
from copy...
2025-04-08 03:10:41,542 - main - INFO - Test cases: import unittest
from datetime import datetime, timedelta
from product_sorter import Product, sort_pr...
2025-04-08 03:10:41,543 - main - INFO - Enable preprocessing: Включено
2025-04-08 03:10:41,545 - main - INFO - Use cache: Включено
2025-04-08 03:10:41,546 - main - INFO - Extreme mode: Выключен
2025-04-08 03:10:41,546 - main - INFO - Предобработка данных перед анализом
2025-04-08 03:10:41,547 - main - INFO - Получен запрос на предобработку данных
2025-04-08 03:10:41,547 - main - INFO - Extreme mode: Выключен
2025-04-08 03:10:41,548 - agents.preprocessor_agent - INFO - Запуск PreprocessorAgent в режиме обычный
2025-04-08 03:10:41,549 - agents.preprocessor_agent - INFO - Обработка поля story
2025-04-08 03:10:41,549 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,597 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,599 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'faa2491b-5836-4584-9dc3-653e6d22b9cd', 'x-session-id': 'd218bab0-56f2-4f57-9277-6d84517a147c', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,600 - agents.preprocessor_agent - INFO - Поле story успешно обработано
2025-04-08 03:10:41,601 - agents.preprocessor_agent - INFO - Обработка поля requirements
2025-04-08 03:10:41,602 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,648 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,650 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'c211bbe6-2133-4adc-af5d-c58c9e2d3050', 'x-session-id': 'f8db1535-340b-43db-a388-3eb700b5423e', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,651 - agents.preprocessor_agent - INFO - Поле requirements успешно обработано
2025-04-08 03:10:41,652 - agents.preprocessor_agent - INFO - Обработка поля code
2025-04-08 03:10:41,653 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,701 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,703 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'c60e725b-0e75-45f4-8ee1-dd99292bc3fd', 'x-session-id': '7fd40e15-a128-4c2c-b677-cc9b53e6c6fd', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,705 - agents.preprocessor_agent - INFO - Поле code успешно обработано
2025-04-08 03:10:41,706 - agents.preprocessor_agent - INFO - Обработка поля test_cases
2025-04-08 03:10:41,707 - services.gigachat_service - INFO - Вызов GigaChat для анализа
2025-04-08 03:10:41,755 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,757 - services.gigachat_service - ERROR - Ошибка при вызове агента: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '27e9322d-d80f-4043-9c38-e1964948f576', 'x-session-id': '95d293f1-2792-44a0-a7e5-5f7cd025576c', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,759 - agents.preprocessor_agent - INFO - Поле test_cases успешно обработано
2025-04-08 03:10:41,760 - agents.preprocessor_agent - INFO - Агент PreprocessorAgent завершил работу
2025-04-08 03:10:41,761 - main - INFO - Предобработка данных успешно выполнена
2025-04-08 03:10:41,761 - agents.analyzer - INFO - Начало анализа кода
2025-04-08 03:10:41,762 - agents.analyzer - INFO - Кэширование включено. Проверка наличия подобных результатов в кэше
2025-04-08 03:10:41,767 - services.cache_service - INFO - Найден баг в кэше: bug_1bc96b91d6cd35c4291936d9964c7332
2025-04-08 03:10:41,770 - services.cache_service - INFO - Найден баг в кэше: bug_8f7436e2b349aa5008f27e59ef775ebb
2025-04-08 03:10:41,773 - services.cache_service - INFO - Найден баг в кэше: bug_a6cbe2ef78267b77a7cd2a65a5dbea34
2025-04-08 03:10:41,776 - services.cache_service - INFO - Найдена рекомендация в кэше: rec_15ceb8c9afdc6feb4085d236922c14db
2025-04-08 03:10:41,778 - services.cache_service - INFO - Найдена рекомендация в кэше: rec_b1aecf0a25eebba355b31e141b579b1e
2025-04-08 03:10:41,780 - agents.analyzer - INFO - Найдены похожие результаты в кэше: 3 багов, 0 уязвимостей, 2 рекомендаций
2025-04-08 03:10:41,780 - agents.analyzer - INFO - Запуск агента проверки соответствия кода требованиям
2025-04-08 03:10:41,781 - agents.base_agent - INFO - Запуск агента CodeRequirementsAgent
2025-04-08 03:10:41,785 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: CodeRequirementsResult
2025-04-08 03:10:41,918 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:41,919 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:41 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'a10478a7-b564-44cb-9e05-de7b3e57249a', 'x-session-id': '1e283295-6588-4693-8b15-6c656b7021b8', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:41,921 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:10:43,924 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: CodeRequirementsResult
2025-04-08 03:10:43,963 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:43,964 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:43 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '6ab83dbb-0b7f-471c-851a-5610e1796e20', 'x-session-id': '022ad317-8b31-4693-8133-2c10b6235d03', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:43,966 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:10:47,969 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: CodeRequirementsResult
2025-04-08 03:10:48,005 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:48,006 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:48 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'f066e44a-756c-4b55-8713-cf104e7e7e79', 'x-session-id': 'f3f34584-0a87-47f5-8346-f3066e199b3e', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:48,008 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:10:48,008 - agents.base_agent - INFO - Агент CodeRequirementsAgent завершил работу
2025-04-08 03:10:48,009 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов требованиям
2025-04-08 03:10:48,010 - agents.base_agent - INFO - Запуск агента TestRequirementsAgent
2025-04-08 03:10:48,012 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestRequirementsResult
2025-04-08 03:10:48,048 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:48,049 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:48 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'dc63276b-aa01-4cc0-808c-b0b2734f8972', 'x-session-id': 'c5088587-87cb-40fa-ab29-16ea6b5f553e', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:48,050 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:10:50,053 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: TestRequirementsResult
2025-04-08 03:10:50,089 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:50,091 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:50 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'ea3497e2-214d-4953-8f27-1cc5487e1c5f', 'x-session-id': 'b2e68abe-b148-401a-acc7-244ece8806ee', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:50,092 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:10:54,096 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: TestRequirementsResult
2025-04-08 03:10:54,139 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:54,141 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:54 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '7a52b89e-1f5c-4e83-a809-1fdcf33e1a0b', 'x-session-id': 'db4fa1c1-61af-48fa-8c83-5f1ad8cf8d16', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:54,143 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:10:54,143 - agents.base_agent - INFO - Агент TestRequirementsAgent завершил работу
2025-04-08 03:10:54,144 - agents.analyzer - INFO - Запуск агента проверки соответствия тест-кейсов коду
2025-04-08 03:10:54,144 - agents.base_agent - INFO - Запуск агента TestCodeAgent
2025-04-08 03:10:54,148 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: TestCodeResult
2025-04-08 03:10:54,198 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:54,199 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:54 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '05ba04a4-74ab-42c1-84be-4385c8beea94', 'x-session-id': '071bdd29-38b5-4136-86d6-597fcbcf0988', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:54,201 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:10:56,205 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: TestCodeResult
2025-04-08 03:10:56,252 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:10:56,253 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:10:56 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '62940a76-e789-4719-92c2-d99142785b9c', 'x-session-id': '87a6e419-8e61-4341-b842-dc50651139f9', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:10:56,254 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:11:00,258 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: TestCodeResult
2025-04-08 03:11:00,304 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:00,305 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:00 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '06c29639-8d34-4db6-ba73-8b7d75194a4c', 'x-session-id': '9fd30faf-cc91-48c0-ac80-5ce5a09fffca', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:00,307 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:11:00,308 - agents.base_agent - INFO - Агент TestCodeAgent завершил работу
2025-04-08 03:11:00,308 - agents.analyzer - INFO - Запуск агента проверки кода на соответствие лучшим практикам
2025-04-08 03:11:00,309 - agents.base_agent - INFO - Запуск агента BestPracticesAgent
2025-04-08 03:11:00,312 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BestPracticesResult
2025-04-08 03:11:00,357 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:00,358 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:00 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '26fcab3d-a9e3-468f-8c0b-3b79b79c0664', 'x-session-id': 'b8e86d4c-be05-418c-9467-95962dff62e2', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:00,360 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:11:02,362 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: BestPracticesResult
2025-04-08 03:11:02,401 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:02,403 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:02 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '622bfd0a-6813-4a1c-9682-118ad69fc71b', 'x-session-id': '43e1bd50-a146-4bba-b431-8e5589628bd4', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:02,404 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:11:06,406 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: BestPracticesResult
2025-04-08 03:11:06,445 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:06,446 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:06 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'b3e74238-ef54-4e5f-a0af-7525cb16a560', 'x-session-id': 'e61ec119-afee-4ae2-a97d-349a91eecde0', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:06,447 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:11:06,448 - agents.base_agent - INFO - Агент BestPracticesAgent завершил работу
2025-04-08 03:11:06,449 - agents.analyzer - INFO - Используем 3 кэшированных багов
2025-04-08 03:11:06,449 - agents.base_agent - INFO - Запуск агента BugDetectorAgent
2025-04-08 03:11:06,451 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: BugDetectorResult
2025-04-08 03:11:06,493 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:06,494 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:06 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'ba433034-211b-4fb3-84ee-75c42a84bd71', 'x-session-id': 'ead75012-bd65-422b-bb58-fc673dbdaafb', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:06,495 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:11:08,498 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: BugDetectorResult
2025-04-08 03:11:08,537 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:08,538 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:08 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '35772f6d-58af-4a02-bc3b-084017a9b518', 'x-session-id': '18350b86-ce5a-490a-a898-1878e124021b', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:08,540 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:11:12,542 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: BugDetectorResult
2025-04-08 03:11:12,582 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:12,584 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:12 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'f45e3f04-bc7e-4012-b2e4-e9425acfd3c7', 'x-session-id': '595c3efb-1077-4f67-b339-3c62e257084d', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:12,585 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:11:12,586 - agents.base_agent - INFO - Агент BugDetectorAgent завершил работу
2025-04-08 03:11:12,586 - agents.analyzer - INFO - Запуск агента обнаружения уязвимостей
2025-04-08 03:11:12,587 - agents.base_agent - INFO - Запуск агента VulnerabilityDetectorAgent
2025-04-08 03:11:12,589 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: VulnerabilityDetectorResult
2025-04-08 03:11:12,629 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:12,631 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:12 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'b861b074-5d59-4e9b-a111-d4828c17a155', 'x-session-id': 'a7653cc0-756b-496b-945f-95793ed1a102', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:12,633 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:11:14,635 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: VulnerabilityDetectorResult
2025-04-08 03:11:14,675 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:14,677 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:14 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'daf67a59-4660-4b8a-89d7-6cc8c0fa3301', 'x-session-id': '80ea9809-0803-4c7e-bba0-eb0b51bc5274', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:14,678 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:11:18,680 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: VulnerabilityDetectorResult
2025-04-08 03:11:18,720 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:18,722 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:18 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '0ee2f67c-6436-497a-9fdb-5dbd8481e901', 'x-session-id': '417dfac6-3dec-42f9-adaf-8f8617c319c8', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:18,723 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:11:18,724 - agents.base_agent - INFO - Агент VulnerabilityDetectorAgent завершил работу
2025-04-08 03:11:18,725 - agents.analyzer - INFO - Добавляем 2 кэшированных рекомендаций
2025-04-08 03:11:18,725 - agents.analyzer - INFO - Запуск агента формирования итогового отчета
2025-04-08 03:11:18,726 - agents.base_agent - INFO - Запуск агента FinalReportAgent
2025-04-08 03:11:18,734 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: FinalReportResult
2025-04-08 03:11:18,828 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:18,829 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:18 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '747c6aa5-3004-4883-a244-3541d4396232', 'x-session-id': 'f73e694e-ead3-483d-a3ba-f2727eb357da', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:18,831 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:11:20,837 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 2/3), ожидаемая схема: FinalReportResult
2025-04-08 03:11:20,882 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:20,884 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:20 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': 'df872830-2f3b-4913-98e8-11a562962feb', 'x-session-id': 'f8af2eb1-a78b-4fb9-a574-f4bfaa7955cb', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:20,885 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:11:24,892 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 3/3), ожидаемая схема: FinalReportResult
2025-04-08 03:11:24,936 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 401 Unauthorized"
2025-04-08 03:11:24,937 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 401, b'{"status":401,"message":"Unauthorized"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:11:24 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '40', 'connection': 'keep-alive', 'x-request-id': '21dd4539-2311-45ae-99fa-dc88739d1f2f', 'x-session-id': '7ea9de7c-8571-43e7-b2a4-150fb24d121d', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:11:24,938 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:11:24,939 - agents.base_agent - INFO - Агент FinalReportAgent завершил работу
2025-04-08 03:11:24,939 - agents.analyzer - INFO - Результаты анализа успешно добавлены в кэш
2025-04-08 03:11:24,940 - agents.analyzer - INFO - Формирование итогового результата анализа
2025-04-08 03:11:24,940 - agents.analyzer - INFO - Анализ кода успешно завершен
2025-04-08 03:11:24,941 - main - INFO - Статистика кэширования: Количество запросов: 6, Использовано из кэша: 5, Не найдено в кэше: 1, Добавлено в кэш: 0, Процент попаданий: 83.33%
2025-04-08 03:11:24,941 - main - INFO - Найдено в кэше: 5 элемент(ов)
2025-04-08 03:11:24,942 - main - INFO - Найденные в кэше баги: bug_1bc96b91d6cd35c4291936d9964c7332, bug_8f7436e2b349aa5008f27e59ef775ebb, bug_a6cbe2ef78267b77a7cd2a65a5dbea34
2025-04-08 03:11:24,943 - main - INFO - Найденные в кэше рекомендации: rec_15ceb8c9afdc6feb4085d236922c14db, rec_b1aecf0a25eebba355b31e141b579b1e
2025-04-08 03:11:24,944 - main - INFO - Анализ кода успешно выполнен
2025-04-08 03:11:24,958 - main - INFO - Запрос на получение статистики кэша
2025-04-08 03:13:00,192 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:13:00,193 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:13:00,396 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:13:00,475 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:13:00,476 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:13:00,477 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:13:00,477 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:13:00,478 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:13:00,478 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:13:00,479 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:13:00,479 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:13:00,480 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:13:00,481 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:13:00,491 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:13:00,551 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:13:00,552 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:13:00,553 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:13:00,560 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:13:00,560 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:13:00,561 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:13:00,562 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:13:00,562 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:13:00,563 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:13:00,563 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:13:00,564 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:13:00,564 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:13:00,565 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:14:48,216 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:14:48,217 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:14:48,217 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:14:48,218 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:14:48,221 - services.gigachat_service - INFO - Вызов GigaChat в текстовом режиме (попытка 1/3), ожидаемая схема: RequirementsAnalyzerResult
2025-04-08 03:14:48,651 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 03:14:53,600 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:14:53,603 - services.gigachat_service - INFO - Успешно получен результат анализа в формате JSON
2025-04-08 03:14:53,604 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 03:14:53,605 - main - ERROR - Ошибка при анализе требований: 2 validation errors for RequirementsAnalysisResult
problematic_requirements.0
  Input should be a valid dictionary [type=dict_type, input_value="FR-003: Требуетс... формата email.", input_type=str]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type
problematic_requirements.1
  Input should be a valid dictionary [type=dict_type, input_value='NFR-001: Требует...ее 1 секунды).', input_type=str]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type
2025-04-08 03:21:27,961 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:21:27,962 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:21:28,188 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:21:28,196 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:21:28,197 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:21:28,197 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:21:28,198 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:21:28,198 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:21:28,199 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:21:28,200 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:21:28,200 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:21:28,201 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:21:28,202 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:21:28,212 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:21:28,282 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:21:28,283 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:21:28,284 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:21:28,291 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:21:28,292 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:21:28,292 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:21:28,293 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:21:28,293 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:21:28,294 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:21:28,294 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:21:28,295 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:21:28,295 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:21:28,295 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:21:32,450 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:21:32,451 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:21:32,451 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:21:32,452 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:21:32,455 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): '\n  "total_score"'
2025-04-08 03:21:32,456 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:21:34,458 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): '\n  "total_score"'
2025-04-08 03:21:34,459 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:21:38,462 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): '\n  "total_score"'
2025-04-08 03:21:38,463 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:21:38,463 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 03:21:38,464 - main - INFO - Анализ требований успешно выполнен
2025-04-08 03:22:28,458 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:22:28,460 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:22:28,661 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:22:28,669 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:22:28,670 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:22:28,671 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:22:28,671 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:22:28,672 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:22:28,673 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:22:28,673 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:22:28,674 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:22:28,674 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:22:28,675 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:22:28,684 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:22:28,746 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:22:28,747 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:22:28,748 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:22:28,756 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:22:28,756 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:22:28,757 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:22:28,758 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:22:28,759 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:22:28,759 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:22:28,760 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:22:28,760 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:22:28,761 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:22:28,761 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:22:33,222 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:22:33,223 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:22:33,223 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:22:33,224 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:22:33,227 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 1/3): '\n  "total_score"'
2025-04-08 03:22:33,228 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:22:35,230 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 2/3): '\n  "total_score"'
2025-04-08 03:22:35,231 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:22:39,234 - services.gigachat_service - ERROR - Ошибка при вызове агента (попытка 3/3): '\n  "total_score"'
2025-04-08 03:22:39,235 - services.gigachat_service - ERROR - Все 3 попытки вызова агента завершились неудачно
2025-04-08 03:22:39,235 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 03:22:39,236 - main - INFO - Анализ требований успешно выполнен
2025-04-08 03:27:44,128 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:27:44,130 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:27:44,321 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:27:44,329 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:27:44,330 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:27:44,331 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:27:44,331 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:27:44,332 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:27:44,332 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:27:44,333 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:27:44,333 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:27:44,334 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:27:44,334 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:27:44,343 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:27:44,413 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:27:44,413 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:27:44,414 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:27:44,421 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:27:44,422 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:27:44,422 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:27:44,423 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:27:44,424 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:27:44,424 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:27:44,425 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:27:44,425 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:27:44,426 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:27:44,426 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:27:49,526 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:27:49,527 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:27:49,528 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:27:49,529 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:27:49,534 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:27:49,803 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 03:27:50,178 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-04-08 03:27:50,180 - services.gigachat_service - ERROR - Ошибка при вызове модели со структурированным выводом (попытка 1/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.problematic_requirements.items.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:27:50 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '99', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '53f92ba5-9c7e-4716-b8a5-9be7bbc21279', 'x-session-id': '2bf6b2a1-eca5-4ce9-bbc1-b1b9c8efd9f1', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:27:50,181 - services.gigachat_service - INFO - Повторная попытка через 2 секунд...
2025-04-08 03:27:52,185 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 2/3)
2025-04-08 03:27:52,356 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-04-08 03:27:52,357 - services.gigachat_service - ERROR - Ошибка при вызове модели со структурированным выводом (попытка 2/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.problematic_requirements.items.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:27:52 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '99', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '96bf144c-da1c-4179-b0da-12b18965158e', 'x-session-id': 'be941f23-7ea4-45d7-9958-66ef01ab975b', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:27:52,359 - services.gigachat_service - INFO - Повторная попытка через 4 секунд...
2025-04-08 03:27:56,362 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 3/3)
2025-04-08 03:27:56,547 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-04-08 03:27:56,549 - services.gigachat_service - ERROR - Ошибка при вызове модели со структурированным выводом (попытка 3/3): (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Field \'properties.problematic_requirements.items.properties\' is missing"}\n', Headers({'server': 'SynGX', 'date': 'Mon, 07 Apr 2025 23:27:56 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '99', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '2674c8e2-2a93-4e1a-b7ad-5b3761ed5c0b', 'x-session-id': 'fb0683ae-9ddb-46c4-89e5-575beaf3c64a', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 03:27:56,550 - services.gigachat_service - ERROR - Все 3 попытки вызова модели завершились неудачно
2025-04-08 03:27:56,551 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 03:27:56,552 - main - INFO - Анализ требований успешно выполнен
2025-04-08 03:30:36,721 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:30:36,723 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:30:36,974 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:30:36,984 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:30:36,985 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:30:36,987 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:30:36,988 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:30:36,989 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:30:36,989 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:30:36,990 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:30:36,991 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:30:36,992 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:30:36,992 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:30:37,005 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:30:37,119 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:30:37,121 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:30:37,122 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:30:37,133 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:30:37,133 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:30:37,134 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:30:37,135 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:30:37,135 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:30:37,136 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:30:37,137 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:30:37,138 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:30:37,139 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:30:37,140 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:30:37,251 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:30:37,252 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:30:37,253 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:30:37,254 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:30:37,265 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:30:37,538 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 03:30:41,781 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:30:41,785 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:30:41,785 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 03:30:41,786 - main - INFO - Анализ требований успешно выполнен
2025-04-08 03:43:30,359 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:43:30,361 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:43:30,568 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:43:30,577 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:43:30,578 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:43:30,578 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:43:30,579 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:43:30,579 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:43:30,580 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:43:30,580 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:43:30,581 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:43:30,581 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:43:30,582 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:43:30,591 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:43:30,652 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:43:30,653 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:43:30,654 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:43:30,661 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:43:30,662 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:43:30,663 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:43:30,663 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:43:30,664 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:43:30,664 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:43:30,664 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:43:30,665 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:43:30,665 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:43:30,666 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:43:32,822 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:43:32,822 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:43:32,824 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:43:32,824 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:43:32,825 - agents.requirements_analyzer_agent - INFO - Размер текста требований (3062 символов) позволяет анализировать его целиком
2025-04-08 03:43:32,835 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:43:33,169 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 03:43:40,348 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:43:40,350 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:43:40,351 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 03:43:40,352 - main - INFO - Анализ требований успешно выполнен
2025-04-08 03:51:02,134 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:51:02,136 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:51:02,389 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:51:02,401 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:51:02,402 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:51:02,402 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:51:02,403 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:51:02,403 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:51:02,404 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:51:02,404 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:51:02,405 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:51:02,406 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:51:02,406 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:51:02,418 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 03:51:02,490 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 03:51:02,491 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:51:02,492 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:51:02,501 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 03:51:02,502 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 03:51:02,502 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 03:51:02,503 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 03:51:02,504 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 03:51:02,504 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 03:51:02,505 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:51:02,505 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:51:02,506 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 03:51:02,506 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 03:51:21,448 - main - INFO - Получен запрос на анализ требований
2025-04-08 03:51:21,449 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 03:51:21,450 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 03:51:21,450 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 03:51:21,451 - agents.requirements_analyzer_agent - INFO - Обнаружен большой текст требований (61280 символов), применяем RAG
2025-04-08 03:51:21,454 - agents.rag_processor - INFO - Текст разбит на 18 частей
2025-04-08 03:51:21,455 - agents.rag_processor - INFO - Анализ части 1 из 18
2025-04-08 03:51:21,466 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:51:21,773 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 03:51:32,222 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:51:32,243 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:51:32,244 - agents.rag_processor - INFO - Анализ части 2 из 18
2025-04-08 03:51:32,250 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:51:40,532 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:51:40,535 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:51:40,536 - agents.rag_processor - INFO - Анализ части 3 из 18
2025-04-08 03:51:40,544 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:51:45,192 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:51:45,194 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:51:45,195 - agents.rag_processor - INFO - Анализ части 4 из 18
2025-04-08 03:51:45,201 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:51:49,583 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:51:49,586 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:51:49,587 - agents.rag_processor - INFO - Анализ части 5 из 18
2025-04-08 03:51:49,592 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:51:58,917 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:51:58,944 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:51:58,945 - agents.rag_processor - INFO - Анализ части 6 из 18
2025-04-08 03:51:58,952 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:05,640 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:05,642 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:05,643 - agents.rag_processor - INFO - Анализ части 7 из 18
2025-04-08 03:52:05,649 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:08,781 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:08,784 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:08,785 - agents.rag_processor - INFO - Анализ части 8 из 18
2025-04-08 03:52:08,794 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:12,118 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:12,121 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:12,122 - agents.rag_processor - INFO - Анализ части 9 из 18
2025-04-08 03:52:12,130 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:21,879 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:21,897 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:21,898 - agents.rag_processor - INFO - Анализ части 10 из 18
2025-04-08 03:52:21,905 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:28,931 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:28,934 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:28,935 - agents.rag_processor - INFO - Анализ части 11 из 18
2025-04-08 03:52:28,940 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:36,441 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:36,444 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:36,445 - agents.rag_processor - INFO - Анализ части 12 из 18
2025-04-08 03:52:36,453 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:43,997 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:44,000 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:44,000 - agents.rag_processor - INFO - Анализ части 13 из 18
2025-04-08 03:52:44,006 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:51,528 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:51,530 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:51,531 - agents.rag_processor - INFO - Анализ части 14 из 18
2025-04-08 03:52:51,539 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:52:57,394 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:52:57,397 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:52:57,398 - agents.rag_processor - INFO - Анализ части 15 из 18
2025-04-08 03:52:57,404 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:53:02,161 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:53:02,164 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:53:02,165 - agents.rag_processor - INFO - Анализ части 16 из 18
2025-04-08 03:53:02,170 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:53:09,871 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:53:09,874 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:53:09,875 - agents.rag_processor - INFO - Анализ части 17 из 18
2025-04-08 03:53:09,880 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:53:16,916 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:53:16,919 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:53:16,919 - agents.rag_processor - INFO - Анализ части 18 из 18
2025-04-08 03:53:16,924 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 03:53:27,134 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 03:53:27,154 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 03:53:27,155 - main - ERROR - Ошибка при анализе требований: sequence item 0: expected str instance, list found
2025-04-08 04:11:51,495 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 04:11:51,496 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:11:51,804 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:11:51,812 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 04:11:51,813 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 04:11:51,813 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 04:11:51,814 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 04:11:51,815 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 04:11:51,815 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 04:11:51,816 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:11:51,817 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:11:51,817 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 04:11:51,818 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 04:11:51,829 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 04:11:51,918 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 04:11:51,919 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:11:51,919 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:11:51,926 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 04:11:51,927 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 04:11:51,928 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 04:11:51,929 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 04:11:51,930 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 04:11:51,930 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 04:11:51,931 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:11:51,931 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:11:51,932 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 04:11:51,933 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 04:15:30,039 - main - INFO - Получен запрос на анализ требований
2025-04-08 04:15:30,040 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:15:30,041 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:15:30,042 - agents.requirements_analyzer_agent - INFO - Запуск анализа требований
2025-04-08 04:15:30,042 - agents.requirements_analyzer_agent - INFO - Размер текста требований (3850 символов) позволяет анализировать его целиком
2025-04-08 04:15:30,071 - services.gigachat_service - INFO - Вызов GigaChat со структурированным выводом (попытка 1/3)
2025-04-08 04:15:32,533 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 04:15:39,793 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 04:15:39,796 - services.gigachat_service - INFO - Успешно получен структурированный ответ
2025-04-08 04:15:39,796 - agents.requirements_analyzer_agent - INFO - Анализ требований успешно завершен
2025-04-08 04:15:39,797 - main - INFO - Анализ требований успешно выполнен
2025-04-08 04:52:15,072 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 04:52:15,075 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:52:15,329 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:52:15,337 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 04:52:15,338 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 04:52:15,339 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 04:52:15,339 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 04:52:15,340 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 04:52:15,341 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 04:52:15,341 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:52:15,342 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:52:15,342 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 04:52:15,343 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 04:52:15,355 - __main__ - INFO - Запуск сервера на порту 8080
2025-04-08 04:52:15,434 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 04:52:15,435 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:52:15,436 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:52:15,444 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 04:52:15,445 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 04:52:15,446 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 04:52:15,446 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 04:52:15,447 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 04:52:15,448 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 04:52:15,448 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 04:52:15,449 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 04:52:15,450 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 04:52:15,450 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:00:49,237 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:00:49,239 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:00:49,466 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:00:49,474 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:00:49,475 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:00:49,476 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:00:49,477 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:00:49,478 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:00:49,478 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:00:49,479 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:00:49,479 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:00:49,480 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:00:49,481 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:02:11,315 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:02:11,317 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:02:11,519 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:02:11,527 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:02:11,527 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:02:11,528 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:02:11,528 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:02:11,529 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:02:11,530 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:02:11,530 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:02:11,531 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:02:11,531 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:02:11,531 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:04:19,983 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:04:19,985 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:04:20,203 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:04:20,211 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:04:20,213 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:04:20,213 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:04:20,214 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:04:20,214 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:04:20,215 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:04:20,215 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:04:20,216 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:04:20,216 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:04:20,217 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:04:25,175 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:04:25,177 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:04:25,426 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:04:25,435 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:04:25,436 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:04:25,436 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:04:25,437 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:04:25,437 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:04:25,438 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:04:25,438 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:04:25,439 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:04:25,440 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:04:25,440 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:04:25,567 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:04:25,568 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:04:25,569 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:04:25,577 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:04:25,578 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:04:25,578 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:04:25,579 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:04:25,579 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:04:25,580 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:04:25,580 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:04:25,581 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:04:25,582 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:04:25,583 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:04:26,415 - main - INFO - Запрос на проверку работоспособности API
2025-04-08 05:04:26,430 - main - INFO - Запрос на проверку работоспособности API
2025-04-08 05:04:26,448 - main - INFO - Запрос на получение статистики кэша
2025-04-08 05:04:26,747 - main - INFO - Запрос на получение статистики кэша
2025-04-08 05:04:46,118 - main - INFO - Получен запрос на форматирование документа, длина документа: 481 символов
2025-04-08 05:04:46,119 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:04:46,538 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 05:04:50,568 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 05:04:50,581 - services.gigachat_service - INFO - Успешно получен ответ от модели
2025-04-08 05:04:50,582 - main - ERROR - Ошибка при форматировании документа: 'dict' object has no attribute 'choices'
Traceback (most recent call last):
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\main.py", line 441, in format_document
    result = await document_formatter.format_document(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<3 lines>...
    )
    ^
  File "C:\Users\SaltyFrappuccino\repos\RiskAI-Assistant\agents\document_formatter_agent.py", line 98, in format_document
    assistant_message = response.choices[0].message.content
                        ^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'choices'
2025-04-08 05:05:31,697 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:05:31,699 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:05:31,943 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:05:31,951 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:05:31,952 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:05:31,952 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:05:31,953 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:05:31,954 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:05:31,955 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:05:31,956 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:05:31,957 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:05:31,958 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:05:31,958 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:05:32,045 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:05:32,046 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:05:32,046 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:05:32,054 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:05:32,055 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:05:32,056 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:05:32,057 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:05:32,057 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:05:32,058 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:05:32,058 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:05:32,059 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:05:32,059 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:05:32,060 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:05:57,833 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:05:57,835 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:05:58,088 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:05:58,095 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:05:58,096 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:05:58,097 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:05:58,097 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:05:58,098 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:05:58,098 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:05:58,099 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:05:58,099 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:05:58,100 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:05:58,100 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:06:02,800 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:06:02,802 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:06:03,098 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:06:03,109 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:06:03,110 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:06:03,111 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:06:03,111 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:06:03,112 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:06:03,112 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:06:03,113 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:06:03,113 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:06:03,114 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:06:03,114 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:06:03,227 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:06:03,229 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:06:03,230 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:06:03,241 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:06:03,241 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:06:03,242 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:06:03,243 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:06:03,244 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:06:03,244 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:06:03,245 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:06:03,246 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:06:03,247 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:06:03,247 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:06:11,792 - main - INFO - Получен запрос на форматирование документа, длина документа: 481 символов
2025-04-08 05:06:11,793 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:06:12,053 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 05:06:15,880 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 05:06:15,882 - services.gigachat_service - INFO - Успешно получен ответ от модели
2025-04-08 05:06:15,883 - main - INFO - Форматирование выполнено, требуются ли уточнения: True
2025-04-08 05:06:34,901 - main - INFO - Получен запрос на форматирование документа, длина документа: 397 символов
2025-04-08 05:06:34,901 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:06:39,814 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 05:06:39,816 - services.gigachat_service - INFO - Успешно получен ответ от модели
2025-04-08 05:06:39,817 - main - INFO - Форматирование выполнено, требуются ли уточнения: True
2025-04-08 05:06:50,639 - main - INFO - Получен запрос на форматирование документа, длина документа: 499 символов
2025-04-08 05:06:50,640 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:07:04,294 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 05:07:04,313 - services.gigachat_service - INFO - Успешно получен ответ от модели
2025-04-08 05:07:04,314 - main - INFO - Форматирование выполнено, требуются ли уточнения: True
2025-04-08 05:08:25,094 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:08:25,096 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:08:25,385 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:08:25,397 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:08:25,397 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:08:25,398 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:08:25,398 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:08:25,399 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:08:25,399 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:08:25,399 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:08:25,400 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:08:25,400 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:08:25,401 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:08:25,522 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:08:25,523 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:08:25,524 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:08:25,537 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:08:25,538 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:08:25,538 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:08:25,539 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:08:25,539 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:08:25,540 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:08:25,540 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:08:25,541 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:08:25,541 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:08:25,542 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:08:34,176 - main - INFO - Запрос на проверку работоспособности API
2025-04-08 05:08:34,190 - main - INFO - Запрос на получение статистики кэша
2025-04-08 05:08:58,218 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:08:58,220 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:08:58,524 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:08:58,533 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:08:58,534 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:08:58,535 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:08:58,536 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:08:58,537 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:08:58,537 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:08:58,538 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:08:58,538 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:08:58,539 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:08:58,539 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:09:03,017 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:09:03,019 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:09:03,252 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:09:03,260 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:09:03,261 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:09:03,262 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:09:03,262 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:09:03,263 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:09:03,263 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:09:03,264 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:09:03,265 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:09:03,265 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:09:03,265 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:09:03,355 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:09:03,356 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:09:03,357 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:09:03,364 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:09:03,365 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:09:03,366 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:09:03,366 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:09:03,367 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:09:03,368 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:09:03,368 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:09:03,369 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:09:03,369 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:09:03,369 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:09:06,451 - main - INFO - Получен запрос на форматирование документа, длина документа: 499 символов
2025-04-08 05:09:06,453 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:09:06,676 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 05:09:17,147 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 05:09:17,166 - services.gigachat_service - INFO - Успешно получен ответ от модели
2025-04-08 05:09:17,167 - main - INFO - Форматирование выполнено, требуются ли уточнения: False
2025-04-08 05:09:29,050 - main - INFO - Получен запрос на форматирование документа, длина документа: 499 символов
2025-04-08 05:09:29,051 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:09:44,502 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-04-08 05:09:44,524 - services.gigachat_service - INFO - Успешно получен ответ от модели
2025-04-08 05:09:44,525 - main - INFO - Форматирование выполнено, требуются ли уточнения: True
2025-04-08 05:11:54,141 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:11:54,143 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:11:54,472 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:11:54,480 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:11:54,481 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:11:54,482 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:11:54,483 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:11:54,483 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:11:54,484 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:11:54,485 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:11:54,485 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:11:54,486 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:11:54,487 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:11:54,589 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:11:54,591 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:11:54,592 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:11:54,600 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:11:54,601 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:11:54,601 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:11:54,602 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:11:54,603 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:11:54,603 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:11:54,604 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:11:54,604 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:11:54,604 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:11:54,605 - agents.analyzer - INFO - Агенты успешно инициализированы
2025-04-08 05:12:16,152 - main - INFO - Запрос на проверку работоспособности API
2025-04-08 05:12:16,192 - main - INFO - Запрос на получение статистики кэша
2025-04-08 05:12:26,854 - main - INFO - Получен запрос на продолжение форматирования, сообщение пользователя: Нужна аутентификация типа Bearer Token...
2025-04-08 05:12:26,856 - services.gigachat_service - INFO - Отправка запроса на диалоговый чат-компплишн
2025-04-08 05:12:27,185 - httpx - INFO - HTTP Request: POST https://ngw.devices.sberbank.ru:9443/api/v2/oauth "HTTP/1.1 200 OK"
2025-04-08 05:12:27,471 - httpx - INFO - HTTP Request: POST https://gigachat.devices.sberbank.ru/api/v1/chat/completions "HTTP/1.1 422 Unprocessable Entity"
2025-04-08 05:12:27,472 - services.gigachat_service - ERROR - Ошибка при выполнении chat completion: (URL('https://gigachat.devices.sberbank.ru/api/v1/chat/completions'), 422, b'{"status":422,"message":"Invalid params: system message must be the first message"}\n', Headers({'server': 'SynGX', 'date': 'Tue, 08 Apr 2025 01:12:27 GMT', 'content-type': 'application/json; charset=utf-8', 'content-length': '84', 'connection': 'keep-alive', 'access-control-allow-credentials': 'true', 'access-control-allow-headers': 'Origin, X-Requested-With, Content-Type, Accept, Authorization', 'access-control-allow-methods': 'GET, POST, DELETE, OPTIONS', 'access-control-allow-origin': 'https://beta.saluteai.sberdevices.ru', 'x-request-id': '6c18f8c6-0b80-4ba9-a51c-48bcee227b09', 'x-session-id': '669e2d27-c5a8-431d-a93b-74d5be8bbee1', 'allow': 'GET, POST', 'strict-transport-security': 'max-age=31536000; includeSubDomains'}))
2025-04-08 05:12:27,474 - main - INFO - Продолжение форматирования выполнено, требуются ли уточнения: False
2025-04-08 05:13:20,802 - root - INFO - Логирование настроено с уровнем INFO
2025-04-08 05:13:20,805 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:13:21,119 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:13:21,129 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша bugs
2025-04-08 05:13:21,129 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша vulnerabilities
2025-04-08 05:13:21,130 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша recommendations
2025-04-08 05:13:21,131 - services.cache_service - INFO - Удалено 0 устаревших записей из кэша requirements
2025-04-08 05:13:21,132 - services.cache_service - INFO - Сервис кэширования инициализирован. Директория кэша: cache
2025-04-08 05:13:21,132 - agents.analyzer - INFO - Инициализация CodeAnalyzer
2025-04-08 05:13:21,133 - services.gigachat_service - INFO - Инициализация GigaChat клиента
2025-04-08 05:13:21,133 - services.gigachat_service - INFO - GigaChat клиент успешно инициализирован
2025-04-08 05:13:21,134 - agents.analyzer - INFO - Инициализация агентов
2025-04-08 05:13:21,135 - agents.analyzer - INFO - Агенты успешно инициализированы
