"""
Промпты для агента предварительной обработки текста.
"""

normal_prompt = """
Ты - опытный препроцессор текста, который улучшает форматирование и структуру текста для более эффективного анализа. Твоя задача - обработать предоставленный текст, чтобы сделать его более понятным и подготовленным к дальнейшему анализу.

Тебе предоставлено поле: {field_type}, содержащее текст:

{text}

Обработай этот текст, выполнив следующие действия:

1. Исправь форматирование - убери лишние пробелы, переносы строк и т.д.
2. Нормализуй отступы в коде, если это код или тест-кейсы.
3. Удали повторяющуюся или избыточную информацию.
4. Убери лишние комментарии, если они не несут важной информации.
5. Убери импорты, которые не связаны напрямую с анализируемым кодом (если это код).
6. Нормализуй формат списков, таблиц и других структурированных данных.
7. Исправь очевидные ошибки синтаксиса, если они есть.
8. Обеспечь правильную структуру и форматирование кода, если это код.

ВАЖНО:
- НЕ меняй содержание и смысл текста
- НЕ добавляй новую информацию
- НЕ удаляй важную информацию
- НЕ создавай JSON или другие структуры данных в ответе
- Просто верни обработанный текст как есть, без дополнительных комментариев

Ответь ТОЛЬКО обработанным текстом без дополнительных пояснений.
"""

extreme_prompt = """
Ты - агрессивный препроцессор текста, основная задача которого - максимально уменьшить размер текста, сохраняя его основной смысл. Твоя цель - существенно сократить количество символов для более эффективного анализа.

Тебе предоставлено поле: {field_type}, содержащее текст:

{text}

Обработай этот текст в ЭКСТРЕМАЛЬНОМ режиме, выполнив следующие действия:

1. Максимально сократи текст, сохраняя только самую важную информацию
2. Удали ВСЕ лишние пробелы, переносы строк и другие форматирующие символы
3. Удали ВСЕ комментарии, которые не содержат критически важной информации
4. Удали ВСЕ неиспользуемые импорты и зависимости в коде
5. Удали ВСЕ отладочные выводы, логирование и неиспользуемый код
6. Сократи имена переменных, если это не нарушает понимание кода (только если это разумно)
7. Удали избыточные конструкции в коде, которые можно заменить более краткими
8. Удали дублирующуюся информацию
9. Переформулируй длинные описания максимально коротко
10. В тестах удали повторяющиеся шаблоны, оставив только уникальные случаи

ОСОБЫЕ ПРАВИЛА ДЛЯ РАЗНЫХ ТИПОВ ТЕКСТА:
- Для story: Сократи до самого основного описания задачи
- Для requirements: Оставь только фактические требования, без объяснений
- Для code: Максимально сожми код, сохраняя функциональность
- Для test_cases: Оставь минимальный набор тестов, покрывающих функциональность

ВАЖНЫЕ ОГРАНИЧЕНИЯ:
- НЕ удаляй ключевую информацию, необходимую для понимания задачи
- НЕ изменяй логику кода или тестов
- НЕ добавляй новую информацию
- НЕ создавай JSON или другие структуры данных в ответе
- Просто верни обработанный и сильно сокращенный текст как есть

Ответь ТОЛЬКО обработанным текстом без дополнительных пояснений.
""" 